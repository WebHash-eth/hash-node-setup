import{C as JX,D as ZX,E as WX,F as yY,o as ZQ,p as xY,r as WQ,s as _1,t as qQ,u as zQ,w as HQ,x as MQ,y as wQ}from"./pqjkx1hd.js";import{$ as n1,Aa as R$,Ba as o5,Ca as f1,Da as A1,Ea as x5,Fa as AY,Ga as fY,Ha as N1,I as q1,Ia as $0,J as _5,Ja as a5,K as g0,Ka as bY,L as v$,La as Q1,M as y,Ma as w0,N as y5,O as d1,P as RY,Q as b5,R as G$,S as g5,T as k0,U as E0,V as J5,W as h0,X as t0,Y as U$,Z as l1,_ as c1,aa as i1,ba as v0,ca as A0,da as o1,ea as s1,fa as t1,ga as M$,ha as r$,ia as a1,ja as a$,ka as r1,la as e1,ma as $5,na as Q5,oa as Y5,pa as jQ,qa as d0,ra as b0,sa as u0,ta as Q0,va as n$,wa as s,xa as i0,ya as o,za as aQ}from"./4tj97cbs.js";import{$a as l,$b as AQ,Cb as kQ,Db as hQ,Na as x,Ra as P0,Rb as p0,Sa as PQ,Ta as m5,Ua as f0,Ub as dQ,Va as lQ,Vb as k$,Wa as H0,Ya as t,Yb as CQ,Za as W5,Zb as y0,_a as p,ab as z0,ac as i$,bb as A,bc as y1,cb as w$,eb as t$,fb as SY,gb as G0,gc as D0,hb as aY,hc as L0,ib as L1,kb as k5,lb as cQ,lc as h$,mb as BQ,nc as k,ob as KQ,oc as j,pb as m0,qb as VQ,vb as mQ,wb as X1,xb as J1,yb as vY}from"./nz4br084.js";import{Ec as YQ,Hc as XQ}from"./xd879rxk.js";var C$=256,A$;function E$($=11){if(!A$||C$+$>512){A$="",C$=0;for(let Q=0;Q<256;Q++)A$+=(256+Math.random()*256|0).toString(16).substring(1)}return A$.substring(C$,C$+++$)}function T$($){let{batch:Q,cacheTime:Y=$.pollingInterval??4000,ccipRead:X,key:J="base",name:Z="Base Client",pollingInterval:W=4000,type:V="base"}=$,G=$.chain,K=$.account?j($.account):void 0,{config:S,request:D,value:O}=$.transport({chain:G,pollingInterval:W}),q={...S,...O},M={account:K,batch:Q,cacheTime:Y,ccipRead:X,chain:G,key:J,name:Z,pollingInterval:W,request:D,transport:q,type:V,uid:E$()};function w(z){return(H)=>{let F=H(z);for(let _ in M)delete F[_];let U={...z,...F};return Object.assign(U,{extend:w(U)})}}return Object.assign(M,{extend:w(M)})}function R0($,Q){if(!($ instanceof x))return!1;let Y=$.walk((X)=>X instanceof G$);if(!(Y instanceof G$))return!1;if(Y.data?.errorName==="ResolverNotFound")return!0;if(Y.data?.errorName==="ResolverWildcardNotSupported")return!0;if(Y.data?.errorName==="ResolverNotContract")return!0;if(Y.data?.errorName==="ResolverError")return!0;if(Y.data?.errorName==="HttpError")return!0;if(Y.reason?.includes("Wildcard on non-extended resolvers is not supported"))return!0;if(Q==="reverse"&&Y.reason===y5[50])return!0;return!1}function x$($){if($.length!==66)return null;if($.indexOf("[")!==0)return null;if($.indexOf("]")!==65)return null;let Q=`0x${$.slice(1,65)}`;if(!P0(Q))return null;return Q}function j0($){let Q=new Uint8Array(32).fill(0);if(!$)return z0(Q);let Y=$.split(".");for(let X=Y.length-1;X>=0;X-=1){let J=x$(Y[X]),Z=J?f0(J):G0(H0(Y[X]),"bytes");Q=G0(k5([Q,Z]),"bytes")}return z0(Q)}function h5($){return`[${$.slice(2)}]`}function v5($){let Q=new Uint8Array(32).fill(0);if(!$)return z0(Q);return x$($)||G0(H0($))}function M0($){let Q=$.replace(/^\.|\.$/gm,"");if(Q.length===0)return new Uint8Array(1);let Y=new Uint8Array(H0(Q).byteLength+2),X=0,J=Q.split(".");for(let Z=0;Z<J.length;Z++){let W=H0(J[Z]);if(W.byteLength>255)W=H0(h5(v5(J[Z])));Y[X]=W.length,Y.set(W,X+1),X+=W.length+1}if(Y.byteLength!==X+1)return Y.slice(0,X+1);return Y}function L($,Q,Y){let X=$[Q.name];if(typeof X==="function")return X;let J=$[Y];if(typeof J==="function")return J;return(Z)=>Q($,Z)}var zX=3;function i($,{abi:Q,address:Y,args:X,docsPath:J,functionName:Z,sender:W}){let V=$ instanceof k0?$:$ instanceof x?$.walk((M)=>("data"in M))||$.walk():{},{code:G,data:K,details:S,message:D,shortMessage:O}=V,q=(()=>{if($ instanceof y0)return new g5({functionName:Z});if([zX,v0.code].includes(G)&&(K||S||D||O))return new G$({abi:Q,data:typeof K==="object"?K.data:K,functionName:Z,message:V instanceof h0?S:O??D});return $})();return new b5(q,{abi:Q,args:X,contractAddress:Y,docsPath:J,functionName:Z,sender:W})}async function m($,Q){let{abi:Y,address:X,args:J,functionName:Z,...W}=Q,V=y({abi:Y,args:J,functionName:Z});try{let{data:G}=await L($,w0,"call")({...W,data:V,to:X});return o({abi:Y,args:J,functionName:Z,data:G||"0x"})}catch(G){throw i(G,{abi:Y,address:X,args:J,docsPath:"/docs/contract/readContract",functionName:Z})}}async function p5($,{blockNumber:Q,blockTag:Y,coinType:X,name:J,gatewayUrls:Z,strict:W,universalResolverAddress:V}){let G=V;if(!G){if(!$.chain)throw new Error("client chain not configured. universalResolverAddress is required.");G=$0({blockNumber:Q,chain:$.chain,contract:"ensUniversalResolver"})}try{let K=y({abi:A1,functionName:"addr",...X!=null?{args:[j0(J),BigInt(X)]}:{args:[j0(J)]}}),S={address:G,abi:R$,functionName:"resolve",args:[l(M0(J)),K],blockNumber:Q,blockTag:Y},D=L($,m,"readContract"),O=Z?await D({...S,args:[...S.args,Z]}):await D(S);if(O[0]==="0x")return null;let q=o({abi:A1,args:X!=null?[j0(J),BigInt(X)]:void 0,functionName:"addr",data:O[0]});if(q==="0x")return null;if(m5(q)==="0x00")return null;return q}catch(K){if(W)throw K;if(R0(K,"resolve"))return null;throw K}}class E1 extends x{constructor({data:$}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify($)}`],name:"EnsAvatarInvalidMetadataError"})}}class B0 extends x{constructor({reason:$}){super(`ENS NFT avatar URI is invalid. ${$}`,{name:"EnsAvatarInvalidNftUriError"})}}class D$ extends x{constructor({uri:$}){super(`Unable to resolve ENS avatar URI "${$}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class T1 extends x{constructor({namespace:$}){super(`ENS NFT avatar namespace "${$}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}var HX=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,MX=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,wX=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,FX=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function UX($){try{let Q=await fetch($,{method:"HEAD"});if(Q.status===200)return Q.headers.get("content-type")?.startsWith("image/");return!1}catch(Q){if(typeof Q==="object"&&typeof Q.response!=="undefined")return!1;if(!globalThis.hasOwnProperty("Image"))return!1;return new Promise((Y)=>{let X=new Image;X.onload=()=>{Y(!0)},X.onerror=()=>{Y(!1)},X.src=$})}}function d5($,Q){if(!$)return Q;if($.endsWith("/"))return $.slice(0,-1);return $}function x1({uri:$,gatewayUrls:Q}){let Y=wX.test($);if(Y)return{uri:$,isOnChain:!0,isEncoded:Y};let X=d5(Q?.ipfs,"https://ipfs.io"),J=d5(Q?.arweave,"https://arweave.net"),Z=$.match(HX),{protocol:W,subpath:V,target:G,subtarget:K=""}=Z?.groups||{},S=W==="ipns:/"||V==="ipns/",D=W==="ipfs:/"||V==="ipfs/"||MX.test($);if($.startsWith("http")&&!S&&!D){let q=$;if(Q?.arweave)q=$.replace(/https:\/\/arweave.net/g,Q?.arweave);return{uri:q,isOnChain:!1,isEncoded:!1}}if((S||D)&&G)return{uri:`${X}/${S?"ipns":"ipfs"}/${G}${K}`,isOnChain:!1,isEncoded:!1};if(W==="ar:/"&&G)return{uri:`${J}/${G}${K||""}`,isOnChain:!1,isEncoded:!1};let O=$.replace(FX,"");if(O.startsWith("<svg"))O=`data:image/svg+xml;base64,${btoa(O)}`;if(O.startsWith("data:")||O.startsWith("{"))return{uri:O,isOnChain:!0,isEncoded:!1};throw new D$({uri:$})}function R1($){if(typeof $!=="object"||!("image"in $)&&!("image_url"in $)&&!("image_data"in $))throw new E1({data:$});return $.image||$.image_url||$.image_data}async function u5({gatewayUrls:$,uri:Q}){try{let Y=await fetch(Q).then((J)=>J.json());return await f$({gatewayUrls:$,uri:R1(Y)})}catch{throw new D$({uri:Q})}}async function f$({gatewayUrls:$,uri:Q}){let{uri:Y,isOnChain:X}=x1({uri:Q,gatewayUrls:$});if(X)return Y;if(await UX(Y))return Y;throw new D$({uri:Q})}function l5($){let Q=$;if(Q.startsWith("did:nft:"))Q=Q.replace("did:nft:","").replace(/_/g,"/");let[Y,X,J]=Q.split("/"),[Z,W]=Y.split(":"),[V,G]=X.split(":");if(!Z||Z.toLowerCase()!=="eip155")throw new B0({reason:"Only EIP-155 supported"});if(!W)throw new B0({reason:"Chain ID not found"});if(!G)throw new B0({reason:"Contract address not found"});if(!J)throw new B0({reason:"Token ID not found"});if(!V)throw new B0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(W),namespace:V.toLowerCase(),contractAddress:G,tokenID:J}}async function c5($,{nft:Q}){if(Q.namespace==="erc721")return m($,{address:Q.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(Q.tokenID)]});if(Q.namespace==="erc1155")return m($,{address:Q.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(Q.tokenID)]});throw new T1({namespace:Q.namespace})}async function n5($,{gatewayUrls:Q,record:Y}){if(/eip155:/i.test(Y))return LX($,{gatewayUrls:Q,record:Y});return f$({uri:Y,gatewayUrls:Q})}async function LX($,{gatewayUrls:Q,record:Y}){let X=l5(Y),J=await c5($,{nft:X}),{uri:Z,isOnChain:W,isEncoded:V}=x1({uri:J,gatewayUrls:Q});if(W&&(Z.includes("data:application/json;base64,")||Z.startsWith("{"))){let K=V?atob(Z.replace("data:application/json;base64,","")):Z,S=JSON.parse(K);return f$({uri:R1(S),gatewayUrls:Q})}let G=X.tokenID;if(X.namespace==="erc1155")G=G.replace("0x","").padStart(64,"0");return u5({gatewayUrls:Q,uri:Z.replace(/(?:0x)?{id}/,G)})}async function j$($,{blockNumber:Q,blockTag:Y,name:X,key:J,gatewayUrls:Z,strict:W,universalResolverAddress:V}){let G=V;if(!G){if(!$.chain)throw new Error("client chain not configured. universalResolverAddress is required.");G=$0({blockNumber:Q,chain:$.chain,contract:"ensUniversalResolver"})}try{let K={address:G,abi:R$,functionName:"resolve",args:[l(M0(X)),y({abi:f1,functionName:"text",args:[j0(X),J]})],blockNumber:Q,blockTag:Y},S=L($,m,"readContract"),D=Z?await S({...K,args:[...K.args,Z]}):await S(K);if(D[0]==="0x")return null;let O=o({abi:f1,functionName:"text",data:D[0]});return O===""?null:O}catch(K){if(W)throw K;if(R0(K,"resolve"))return null;throw K}}async function i5($,{blockNumber:Q,blockTag:Y,assetGatewayUrls:X,name:J,gatewayUrls:Z,strict:W,universalResolverAddress:V}){let G=await L($,j$,"getEnsText")({blockNumber:Q,blockTag:Y,key:"avatar",name:J,universalResolverAddress:V,gatewayUrls:Z,strict:W});if(!G)return null;try{return await n5($,{record:G,gatewayUrls:X})}catch{return null}}async function s5($,{address:Q,blockNumber:Y,blockTag:X,gatewayUrls:J,strict:Z,universalResolverAddress:W}){let V=W;if(!V){if(!$.chain)throw new Error("client chain not configured. universalResolverAddress is required.");V=$0({blockNumber:Y,chain:$.chain,contract:"ensUniversalResolver"})}let G=`${Q.toLowerCase().substring(2)}.addr.reverse`;try{let K={address:V,abi:o5,functionName:"reverse",args:[l(M0(G))],blockNumber:Y,blockTag:X},S=L($,m,"readContract"),[D,O]=J?await S({...K,args:[...K.args,J]}):await S(K);if(Q.toLowerCase()!==O.toLowerCase())return null;return D}catch(K){if(Z)throw K;if(R0(K,"reverse"))return null;throw K}}async function t5($,{blockNumber:Q,blockTag:Y,name:X,universalResolverAddress:J}){let Z=J;if(!Z){if(!$.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Z=$0({blockNumber:Q,chain:$.chain,contract:"ensUniversalResolver"})}let[W]=await L($,m,"readContract")({address:Z,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[l(M0(X))],blockNumber:Q,blockTag:Y});return W}async function y$($,Q){let{account:Y=$.account,blockNumber:X,blockTag:J="latest",blobs:Z,data:W,gas:V,gasPrice:G,maxFeePerBlobGas:K,maxFeePerGas:S,maxPriorityFeePerGas:D,to:O,value:q,...M}=Q,w=Y?j(Y):void 0;try{s(Q);let H=(X?A(X):void 0)||J,F=$.chain?.formatters?.transactionRequest?.format,_=(F||Q0)({...b0(M,{format:F}),from:w?.address,blobs:Z,data:W,gas:V,gasPrice:G,maxFeePerBlobGas:K,maxFeePerGas:S,maxPriorityFeePerGas:D,to:O,value:q}),N=await $.request({method:"eth_createAccessList",params:[_,H]});return{accessList:N.accessList,gasUsed:BigInt(N.gasUsed)}}catch(z){throw a5(z,{...Q,account:w,chain:$.chain})}}function F0($,{method:Q}){let Y={};if($.transport.type==="fallback")$.transport.onResponse?.(({method:X,response:J,status:Z,transport:W})=>{if(Z==="success"&&Q===X)Y[J]=W.request});return(X)=>Y[X]||$.request}async function r5($){let Q=F0($,{method:"eth_newBlockFilter"}),Y=await $.request({method:"eth_newBlockFilter"});return{id:Y,request:Q(Y),type:"block"}}class j1 extends x{constructor($){super(`Filter type "${$}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var e5="/docs/contract/encodeEventTopics";function Y0($){let{abi:Q,eventName:Y,args:X}=$,J=Q[0];if(Y){let G=v$({abi:Q,name:Y});if(!G)throw new y1(Y,{docsPath:e5});J=G}if(J.type!=="event")throw new y1(void 0,{docsPath:e5});let Z=k$(J),W=g0(Z),V=[];if(X&&"inputs"in J){let G=J.inputs?.filter((S)=>("indexed"in S)&&S.indexed),K=Array.isArray(X)?X:Object.values(X).length>0?G?.map((S)=>X[S.name])??[]:[];if(K.length>0)V=G?.map((S,D)=>{if(Array.isArray(K[D]))return K[D].map((O,q)=>$Q({param:S,value:K[D][q]}));return typeof K[D]!=="undefined"&&K[D]!==null?$Q({param:S,value:K[D]}):null})??[]}return[W,...V]}function $Q({param:$,value:Q}){if($.type==="string"||$.type==="bytes")return G0(f0(Q));if($.type==="tuple"||$.type.match(/^(.*)\[(\d+)?\]$/))throw new j1($.type);return h$([$],[Q])}async function b$($,Q){let{address:Y,abi:X,args:J,eventName:Z,fromBlock:W,strict:V,toBlock:G}=Q,K=F0($,{method:"eth_newFilter"}),S=Z?Y0({abi:X,args:J,eventName:Z}):void 0,D=await $.request({method:"eth_newFilter",params:[{address:Y,fromBlock:typeof W==="bigint"?A(W):W,toBlock:typeof G==="bigint"?A(G):G,topics:S}]});return{abi:X,args:J,eventName:Z,id:D,request:K(D),strict:Boolean(V),type:"event"}}async function g$($,{address:Q,args:Y,event:X,events:J,fromBlock:Z,strict:W,toBlock:V}={}){let G=J??(X?[X]:void 0),K=F0($,{method:"eth_newFilter"}),S=[];if(G){if(S=[G.flatMap((q)=>Y0({abi:[q],eventName:q.name,args:Y}))],X)S=S[0]}let D=await $.request({method:"eth_newFilter",params:[{address:Q,fromBlock:typeof Z==="bigint"?A(Z):Z,toBlock:typeof V==="bigint"?A(V):V,...S.length?{topics:S}:{}}]});return{abi:G,args:Y,eventName:X?X.name:void 0,fromBlock:Z,id:D,request:K(D),strict:Boolean(W),toBlock:V,type:"event"}}async function m$($){let Q=F0($,{method:"eth_newPendingTransactionFilter"}),Y=await $.request({method:"eth_newPendingTransactionFilter"});return{id:Y,request:Q(Y),type:"transaction"}}async function JQ({hash:$,signature:Q}){let Y=P0($)?$:l($),{secp256k1:X}=await import("./aagdeg7m.js");return`0x${(()=>{if(typeof Q==="object"&&"r"in Q&&"s"in Q){let{r:K,s:S,v:D,yParity:O}=Q,q=Number(O??D),M=QQ(q);return new X.Signature(t(K),t(S)).addRecoveryBit(M)}let W=P0(Q)?Q:l(Q),V=p(`0x${W.slice(130)}`),G=QQ(V);return X.Signature.fromCompact(W.substring(2,130)).addRecoveryBit(G)})().recoverPublicKey(Y.substring(2)).toHex(!1)}`}function QQ($){if($===0||$===1)return $;if($===27)return 0;if($===28)return 1;throw new Error("Invalid yParityOrV value")}async function p$({hash:$,signature:Q}){return ZQ(await JQ({hash:$,signature:Q}))}async function d$($){let{authorization:Q,signature:Y}=$;return p$({hash:WQ(Q),signature:Y??Q})}class k1 extends x{constructor($,{account:Q,docsPath:Y,chain:X,data:J,gas:Z,gasPrice:W,maxFeePerGas:V,maxPriorityFeePerGas:G,nonce:K,to:S,value:D}){let O=VQ({from:Q?.address,to:S,value:typeof D!=="undefined"&&`${KQ(D)} ${X?.nativeCurrency?.symbol||"ETH"}`,data:J,gas:Z,gasPrice:typeof W!=="undefined"&&`${m0(W)} gwei`,maxFeePerGas:typeof V!=="undefined"&&`${m0(V)} gwei`,maxPriorityFeePerGas:typeof G!=="undefined"&&`${m0(G)} gwei`,nonce:K});super($.shortMessage,{cause:$,docsPath:Y,metaMessages:[...$.metaMessages?[...$.metaMessages," "]:[],"Estimate Gas Arguments:",O].filter(Boolean),name:"EstimateGasExecutionError"});Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=$}}function GQ($,{docsPath:Q,...Y}){let X=(()=>{let J=d0($,Y);if(J instanceof p0)return $;return J})();return new k1(X,{docsPath:Q,...Y})}class h1 extends x{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class C0 extends x{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class v1 extends x{constructor({maxPriorityFeePerGas:$}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${m0($)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class O$ extends x{constructor({blockHash:$,blockNumber:Q}){let Y="Block";if($)Y=`Block at hash "${$}"`;if(Q)Y=`Block at number "${Q}"`;super(`${Y} could not be found.`,{name:"BlockNotFoundError"})}}var b1={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function S$($){let Q={...$,blockHash:$.blockHash?$.blockHash:null,blockNumber:$.blockNumber?BigInt($.blockNumber):null,chainId:$.chainId?p($.chainId):void 0,gas:$.gas?BigInt($.gas):void 0,gasPrice:$.gasPrice?BigInt($.gasPrice):void 0,maxFeePerBlobGas:$.maxFeePerBlobGas?BigInt($.maxFeePerBlobGas):void 0,maxFeePerGas:$.maxFeePerGas?BigInt($.maxFeePerGas):void 0,maxPriorityFeePerGas:$.maxPriorityFeePerGas?BigInt($.maxPriorityFeePerGas):void 0,nonce:$.nonce?p($.nonce):void 0,to:$.to?$.to:null,transactionIndex:$.transactionIndex?Number($.transactionIndex):null,type:$.type?b1[$.type]:void 0,typeHex:$.type?$.type:void 0,value:$.value?BigInt($.value):void 0,v:$.v?BigInt($.v):void 0};if($.authorizationList)Q.authorizationList=NX($.authorizationList);if(Q.yParity=(()=>{if($.yParity)return Number($.yParity);if(typeof Q.v==="bigint"){if(Q.v===0n||Q.v===27n)return 0;if(Q.v===1n||Q.v===28n)return 1;if(Q.v>=35n)return Q.v%2n===0n?1:0}return})(),Q.type==="legacy")delete Q.accessList,delete Q.maxFeePerBlobGas,delete Q.maxFeePerGas,delete Q.maxPriorityFeePerGas,delete Q.yParity;if(Q.type==="eip2930")delete Q.maxFeePerBlobGas,delete Q.maxFeePerGas,delete Q.maxPriorityFeePerGas;if(Q.type==="eip1559")delete Q.maxFeePerBlobGas;return Q}var eZ=u0("transaction",S$);function NX($){return $.map((Q)=>({contractAddress:Q.address,chainId:Number(Q.chainId),nonce:Number(Q.nonce),r:Q.r,s:Q.s,yParity:Number(Q.yParity)}))}function q$($){let Q=($.transactions??[]).map((Y)=>{if(typeof Y==="string")return Y;return S$(Y)});return{...$,baseFeePerGas:$.baseFeePerGas?BigInt($.baseFeePerGas):null,blobGasUsed:$.blobGasUsed?BigInt($.blobGasUsed):void 0,difficulty:$.difficulty?BigInt($.difficulty):void 0,excessBlobGas:$.excessBlobGas?BigInt($.excessBlobGas):void 0,gasLimit:$.gasLimit?BigInt($.gasLimit):void 0,gasUsed:$.gasUsed?BigInt($.gasUsed):void 0,hash:$.hash?$.hash:null,logsBloom:$.logsBloom?$.logsBloom:null,nonce:$.nonce?$.nonce:null,number:$.number?BigInt($.number):null,size:$.size?BigInt($.size):void 0,timestamp:$.timestamp?BigInt($.timestamp):void 0,transactions:Q,totalDifficulty:$.totalDifficulty?BigInt($.totalDifficulty):null}}var X4=u0("block",q$);async function d($,{blockHash:Q,blockNumber:Y,blockTag:X,includeTransactions:J}={}){let Z=X??"latest",W=J??!1,V=Y!==void 0?A(Y):void 0,G=null;if(Q)G=await $.request({method:"eth_getBlockByHash",params:[Q,W]},{dedupe:!0});else G=await $.request({method:"eth_getBlockByNumber",params:[V||Z,W]},{dedupe:Boolean(V)});if(!G)throw new O$({blockHash:Q,blockNumber:Y});return($.chain?.formatters?.block?.format||q$)(G)}async function l0($){let Q=await $.request({method:"eth_gasPrice"});return BigInt(Q)}async function DQ($,Q){return g1($,Q)}async function g1($,Q){let{block:Y,chain:X=$.chain,request:J}=Q||{};try{let Z=X?.fees?.maxPriorityFeePerGas??X?.fees?.defaultPriorityFee;if(typeof Z==="function"){let V=Y||await L($,d,"getBlock")({}),G=await Z({block:V,client:$,request:J});if(G===null)throw new Error;return G}if(typeof Z!=="undefined")return Z;let W=await $.request({method:"eth_maxPriorityFeePerGas"});return t(W)}catch{let[Z,W]=await Promise.all([Y?Promise.resolve(Y):L($,d,"getBlock")({}),L($,l0,"getGasPrice")({})]);if(typeof Z.baseFeePerGas!=="bigint")throw new C0;let V=W-Z.baseFeePerGas;if(V<0n)return 0n;return V}}async function OQ($,Q){return u$($,Q)}async function u$($,Q){let{block:Y,chain:X=$.chain,request:J,type:Z="eip1559"}=Q||{},W=await(async()=>{if(typeof X?.fees?.baseFeeMultiplier==="function")return X.fees.baseFeeMultiplier({block:Y,client:$,request:J});return X?.fees?.baseFeeMultiplier??1.2})();if(W<1)throw new h1;let G=10**(W.toString().split(".")[1]?.length??0),K=(O)=>O*BigInt(Math.ceil(W*G))/BigInt(G),S=Y?Y:await L($,d,"getBlock")({});if(typeof X?.fees?.estimateFeesPerGas==="function"){let O=await X.fees.estimateFeesPerGas({block:Y,client:$,multiply:K,request:J,type:Z});if(O!==null)return O}if(Z==="eip1559"){if(typeof S.baseFeePerGas!=="bigint")throw new C0;let O=typeof J?.maxPriorityFeePerGas==="bigint"?J.maxPriorityFeePerGas:await g1($,{block:S,chain:X,request:J}),q=K(S.baseFeePerGas);return{maxFeePerGas:J?.maxFeePerGas??q+O,maxPriorityFeePerGas:O}}return{gasPrice:J?.gasPrice??K(await L($,l0,"getGasPrice")({}))}}async function l$($,{address:Q,blockTag:Y="latest",blockNumber:X}){let J=await $.request({method:"eth_getTransactionCount",params:[Q,X?A(X):Y]},{dedupe:Boolean(X)});return p(J)}async function X0($){let Q=await $.request({method:"eth_chainId"},{dedupe:!0});return p(Q)}var m1=["blobVersionedHashes","chainId","fees","gas","nonce","type"],SQ=new Map;async function U0($,Q){let{account:Y=$.account,blobs:X,chain:J,gas:Z,kzg:W,nonce:V,nonceManager:G,parameters:K=m1,type:S}=Q,D=Y?j(Y):Y,O={...Q,...D?{from:D?.address}:{}},q;async function M(){if(q)return q;return q=await L($,d,"getBlock")({blockTag:"latest"}),q}let w;async function z(){if(w)return w;if(J)return J.id;if(typeof Q.chainId!=="undefined")return Q.chainId;return w=await L($,X0,"getChainId")({}),w}if(K.includes("nonce")&&typeof V==="undefined"&&D)if(G){let H=await z();O.nonce=await G.consume({address:D.address,chainId:H,client:$})}else O.nonce=await L($,l$,"getTransactionCount")({address:D.address,blockTag:"pending"});if((K.includes("blobVersionedHashes")||K.includes("sidecars"))&&X&&W){let H=qQ({blobs:X,kzg:W});if(K.includes("blobVersionedHashes")){let F=HQ({commitments:H,to:"hex"});O.blobVersionedHashes=F}if(K.includes("sidecars")){let F=zQ({blobs:X,commitments:H,kzg:W}),U=MQ({blobs:X,commitments:H,proofs:F,to:"hex"});O.sidecars=U}}if(K.includes("chainId"))O.chainId=await z();if((K.includes("fees")||K.includes("type"))&&typeof S==="undefined")try{O.type=wQ(O)}catch{let H=SQ.get($.uid);if(typeof H==="undefined")H=typeof(await M())?.baseFeePerGas==="bigint",SQ.set($.uid,H);O.type=H?"eip1559":"legacy"}if(K.includes("fees"))if(O.type!=="legacy"&&O.type!=="eip2930"){if(typeof O.maxFeePerGas==="undefined"||typeof O.maxPriorityFeePerGas==="undefined"){let H=await M(),{maxFeePerGas:F,maxPriorityFeePerGas:U}=await u$($,{block:H,chain:J,request:O});if(typeof Q.maxPriorityFeePerGas==="undefined"&&Q.maxFeePerGas&&Q.maxFeePerGas<U)throw new v1({maxPriorityFeePerGas:U});O.maxPriorityFeePerGas=U,O.maxFeePerGas=F}}else{if(typeof Q.maxFeePerGas!=="undefined"||typeof Q.maxPriorityFeePerGas!=="undefined")throw new C0;if(typeof Q.gasPrice==="undefined"){let H=await M(),{gasPrice:F}=await u$($,{block:H,chain:J,request:O,type:"legacy"});O.gasPrice=F}}if(K.includes("gas")&&typeof Z==="undefined")O.gas=await L($,c0,"estimateGas")({...O,account:D?{address:D.address,type:"json-rpc"}:D});return s(O),delete O.parameters,O}async function c$($,{address:Q,blockNumber:Y,blockTag:X="latest"}){let J=Y?A(Y):void 0,Z=await $.request({method:"eth_getBalance",params:[Q,J||X]});return BigInt(Z)}async function c0($,Q){let{account:Y=$.account}=Q,X=Y?j(Y):void 0;try{let R=function(I0){let{block:e,request:V0,rpcStateOverride:q0}=I0;return $.request({method:"eth_estimateGas",params:q0?[V0,e??"latest",q0]:e?[V0,e]:[V0]})},{accessList:J,authorizationList:Z,blobs:W,blobVersionedHashes:V,blockNumber:G,blockTag:K,data:S,gas:D,gasPrice:O,maxFeePerBlobGas:q,maxFeePerGas:M,maxPriorityFeePerGas:w,nonce:z,value:H,stateOverride:F,...U}=await U0($,{...Q,parameters:X?.type==="local"?void 0:["blobVersionedHashes"]}),N=(G?A(G):void 0)||K,P=n$(F),I=await(async()=>{if(U.to)return U.to;if(Z&&Z.length>0)return await d$({authorization:Z[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`")});return})();s(Q);let E=$.chain?.formatters?.transactionRequest?.format,T=(E||Q0)({...b0(U,{format:E}),from:X?.address,accessList:J,authorizationList:Z,blobs:W,blobVersionedHashes:V,data:S,gas:D,gasPrice:O,maxFeePerBlobGas:q,maxFeePerGas:M,maxPriorityFeePerGas:w,nonce:z,to:I,value:H}),v=BigInt(await R({block:N,request:T,rpcStateOverride:P}));if(Z){let I0=await c$($,{address:T.from}),e=await Promise.all(Z.map(async(V0)=>{let{contractAddress:q0}=V0,B1=await R({block:N,request:{authorizationList:void 0,data:S,from:X?.address,to:q0,value:A(I0)},rpcStateOverride:P}).catch(()=>100000n);return 2n*BigInt(B1)}));v+=e.reduce((V0,q0)=>V0+q0,0n)}return v}catch(J){throw GQ(J,{...Q,account:X,chain:$.chain})}}async function FQ($,Q){let{abi:Y,address:X,args:J,functionName:Z,dataSuffix:W,...V}=Q,G=y({abi:Y,args:J,functionName:Z});try{return await L($,c0,"estimateGas")({data:`${G}${W?W.replace("0x",""):""}`,to:X,...V})}catch(K){let S=V.account?j(V.account):void 0;throw i(K,{abi:Y,address:X,args:J,docsPath:"/docs/contract/estimateContractGas",functionName:Z,sender:S?.address})}}async function UQ($){let Q=await $.request({method:"eth_blobBaseFee"});return BigInt(Q)}var _X=new Map,IX=new Map;function LQ($){let Q=(J,Z)=>({clear:()=>Z.delete(J),get:()=>Z.get(J),set:(W)=>Z.set(J,W)}),Y=Q($,_X),X=Q($,IX);return{clear:()=>{Y.clear(),X.clear()},promise:Y,response:X}}async function NQ($,{cacheKey:Q,cacheTime:Y=Number.POSITIVE_INFINITY}){let X=LQ(Q),J=X.response.get();if(J&&Y>0){if(new Date().getTime()-J.created.getTime()<Y)return J.data}let Z=X.promise.get();if(!Z)Z=$(),X.promise.set(Z);try{let W=await Z;return X.response.set({created:new Date,data:W}),W}finally{X.promise.clear()}}var PX=($)=>`blockNumber.${$}`;async function J0($,{cacheTime:Q=$.cacheTime}={}){let Y=await NQ(()=>$.request({method:"eth_blockNumber"}),{cacheKey:PX($.uid),cacheTime:Q});return BigInt(Y)}async function _Q($,{blockHash:Q,blockNumber:Y,blockTag:X="latest"}={}){let J=Y!==void 0?A(Y):void 0,Z;if(Q)Z=await $.request({method:"eth_getBlockTransactionCountByHash",params:[Q]},{dedupe:!0});else Z=await $.request({method:"eth_getBlockTransactionCountByNumber",params:[J||X]},{dedupe:Boolean(J)});return p(Z)}async function p1($,{address:Q,blockNumber:Y,blockTag:X="latest"}){let J=Y!==void 0?A(Y):void 0,Z=await $.request({method:"eth_getCode",params:[Q,J||X]},{dedupe:Boolean(J)});if(Z==="0x")return;return Z}var IQ="/docs/contract/decodeEventLog";function n0($){let{abi:Q,data:Y,strict:X,topics:J}=$,Z=X??!0,[W,...V]=J;if(!W)throw new AQ({docsPath:IQ});let G=(()=>{if(Q.length===1)return Q[0];return Q.find((w)=>w.type==="event"&&W===g0(k$(w)))})();if(!(G&&("name"in G))||G.type!=="event")throw new i$(W,{docsPath:IQ});let{name:K,inputs:S}=G,D=S?.some((w)=>!(("name"in w)&&w.name)),O=D?[]:{},q=S.filter((w)=>("indexed"in w)&&w.indexed);for(let w=0;w<q.length;w++){let z=q[w],H=V[w];if(!H)throw new L0({abiItem:G,param:z});O[D?w:z.name||w]=BX({param:z,value:H})}let M=S.filter((w)=>!(("indexed"in w)&&w.indexed));if(M.length>0){if(Y&&Y!=="0x")try{let w=d1(M,Y);if(w)if(D)O=[...O,...w];else for(let z=0;z<M.length;z++)O[M[z].name]=w[z]}catch(w){if(Z){if(w instanceof CQ||w instanceof BQ)throw new D0({abiItem:G,data:Y,params:M,size:PQ(Y)});throw w}}else if(Z)throw new D0({abiItem:G,data:"0x",params:M,size:0})}return{eventName:K,args:Object.values(O).length>0?O:void 0}}function BX({param:$,value:Q}){if($.type==="string"||$.type==="bytes"||$.type==="tuple"||$.type.match(/^(.*)\[(\d+)?\]$/))return Q;return(d1([$],Q)||[])[0]}function o0($){let{abi:Q,args:Y,logs:X,strict:J=!0}=$,Z=(()=>{if(!$.eventName)return;if(Array.isArray($.eventName))return $.eventName;return[$.eventName]})();return X.map((W)=>{try{let V=Q.find((K)=>K.type==="event"&&W.topics[0]===g0(K));if(!V)return null;let G=n0({...W,abi:[V],strict:J});if(Z&&!Z.includes(G.eventName))return null;if(!CX({args:G.args,inputs:V.inputs,matchArgs:Y}))return null;return{...G,...W}}catch(V){let G,K;if(V instanceof i$)return null;if(V instanceof D0||V instanceof L0){if(J)return null;G=V.abiItem.name,K=V.abiItem.inputs?.some((S)=>!(("name"in S)&&S.name))}return{...W,args:K?[]:{},eventName:G}}}).filter(Boolean)}function CX($){let{args:Q,inputs:Y,matchArgs:X}=$;if(!X)return!0;if(!Q)return!1;function J(Z,W,V){try{if(Z.type==="address")return i0(W,V);if(Z.type==="string"||Z.type==="bytes")return G0(f0(W))===V;return W===V}catch{return!1}}if(Array.isArray(Q)&&Array.isArray(X))return X.every((Z,W)=>{if(Z===null||Z===void 0)return!0;let V=Y[W];if(!V)return!1;return(Array.isArray(Z)?Z:[Z]).some((K)=>J(V,K,Q[W]))});if(typeof Q==="object"&&!Array.isArray(Q)&&typeof X==="object"&&!Array.isArray(X))return Object.entries(X).every(([Z,W])=>{if(W===null||W===void 0)return!0;let V=Y.find((K)=>K.name===Z);if(!V)return!1;return(Array.isArray(W)?W:[W]).some((K)=>J(V,K,Q[Z]))});return!1}function u($,{args:Q,eventName:Y}={}){return{...$,blockHash:$.blockHash?$.blockHash:null,blockNumber:$.blockNumber?BigInt($.blockNumber):null,logIndex:$.logIndex?Number($.logIndex):null,transactionHash:$.transactionHash?$.transactionHash:null,transactionIndex:$.transactionIndex?Number($.transactionIndex):null,...Y?{args:Q,eventName:Y}:{}}}async function s0($,{address:Q,blockHash:Y,fromBlock:X,toBlock:J,event:Z,events:W,args:V,strict:G}={}){let K=G??!1,S=W??(Z?[Z]:void 0),D=[];if(S){if(D=[S.flatMap((w)=>Y0({abi:[w],eventName:w.name,args:W?void 0:V}))],Z)D=D[0]}let O;if(Y)O=await $.request({method:"eth_getLogs",params:[{address:Q,topics:D,blockHash:Y}]});else O=await $.request({method:"eth_getLogs",params:[{address:Q,topics:D,fromBlock:typeof X==="bigint"?A(X):X,toBlock:typeof J==="bigint"?A(J):J}]});let q=O.map((M)=>u(M));if(!S)return q;return o0({abi:S,args:V,logs:q,strict:K})}async function o$($,Q){let{abi:Y,address:X,args:J,blockHash:Z,eventName:W,fromBlock:V,toBlock:G,strict:K}=Q,S=W?v$({abi:Y,name:W}):void 0,D=!S?Y.filter((O)=>O.type==="event"):void 0;return L($,s0,"getLogs")({address:X,args:J,blockHash:Z,event:S,events:D,fromBlock:V,toBlock:G,strict:K})}class u1 extends x{constructor({address:$}){super(`No EIP-712 domain found on contract "${$}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${$}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function EQ($,Q){let{address:Y,factory:X,factoryData:J}=Q;try{let[Z,W,V,G,K,S,D]=await L($,m,"readContract")({abi:AX,address:Y,functionName:"eip712Domain",factory:X,factoryData:J});return{domain:{name:W,version:V,chainId:Number(G),verifyingContract:K,salt:S},extensions:D,fields:Z}}catch(Z){let W=Z;if(W.name==="ContractFunctionExecutionError"&&W.cause.name==="ContractFunctionZeroDataError")throw new u1({address:Y});throw W}}var AX=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function TQ($){return{baseFeePerGas:$.baseFeePerGas.map((Q)=>BigInt(Q)),gasUsedRatio:$.gasUsedRatio,oldestBlock:BigInt($.oldestBlock),reward:$.reward?.map((Q)=>Q.map((Y)=>BigInt(Y)))}}async function xQ($,{blockCount:Q,blockNumber:Y,blockTag:X="latest",rewardPercentiles:J}){let Z=Y?A(Y):void 0,W=await $.request({method:"eth_feeHistory",params:[A(Q),Z||X,J]},{dedupe:Boolean(Z)});return TQ(W)}async function N0($,{filter:Q}){let Y="strict"in Q&&Q.strict,X=await Q.request({method:"eth_getFilterChanges",params:[Q.id]});if(typeof X[0]==="string")return X;let J=X.map((Z)=>u(Z));if(!("abi"in Q)||!Q.abi)return J;return o0({abi:Q.abi,logs:J,strict:Y})}async function RQ($,{filter:Q}){let Y=Q.strict??!1,J=(await Q.request({method:"eth_getFilterLogs",params:[Q.id]})).map((Z)=>u(Z));if(!Q.abi)return J;return o0({abi:Q.abi,logs:J,strict:Y})}var s$=new t$(8192);function fQ($,{enabled:Q=!0,id:Y}){if(!Q||!Y)return $();if(s$.get(Y))return s$.get(Y);let X=$().finally(()=>s$.delete(Y));return s$.set(Y,X),X}async function z$($){return new Promise((Q)=>setTimeout(Q,$))}function H$($,{delay:Q=100,retryCount:Y=2,shouldRetry:X=()=>!0}={}){return new Promise((J,Z)=>{let W=async({count:V=0}={})=>{let G=async({error:K})=>{let S=typeof Q==="function"?Q({count:V,error:K}):Q;if(S)await z$(S);W({count:V+1})};try{let K=await $();J(K)}catch(K){if(V<Y&&await X({count:V,error:K}))return G({error:K});Z(K)}};W()})}function yQ($,Q={}){return async(Y,X={})=>{let{dedupe:J=!1,methods:Z,retryDelay:W=150,retryCount:V=3,uid:G}={...Q,...X},{method:K}=Y;if(Z?.exclude?.includes(K))throw new M$(new Error("method not supported"),{method:K});if(Z?.include&&!Z.include.includes(K))throw new M$(new Error("method not supported"),{method:K});let S=J?w$(`${G}.${k(Y)}`):void 0;return fQ(()=>H$(async()=>{try{return await $(Y)}catch(D){let O=D;switch(O.code){case l1.code:throw new l1(O);case c1.code:throw new c1(O);case n1.code:throw new n1(O,{method:Y.method});case i1.code:throw new i1(O);case v0.code:throw new v0(O);case A0.code:throw new A0(O);case o1.code:throw new o1(O);case s1.code:throw new s1(O);case t1.code:throw new t1(O);case M$.code:throw new M$(O,{method:Y.method});case r$.code:throw new r$(O);case a1.code:throw new a1(O);case a$.code:throw new a$(O);case r1.code:throw new r1(O);case e1.code:throw new e1(O);case $5.code:throw new $5(O);case Q5.code:throw new Q5(O);case Y5.code:throw new Y5(O);case 5000:throw new a$(O);default:if(D instanceof x)throw D;throw new jQ(O)}}},{delay:({count:D,error:O})=>{if(O&&O instanceof E0){let q=O?.headers?.get("Retry-After");if(q?.match(/\d/))return Number.parseInt(q)*1000}return~~(1<<D)*W},retryCount:V,shouldRetry:({error:D})=>EX(D)}),{enabled:J,id:S})}}function EX($){if("code"in $&&typeof $.code==="number"){if($.code===-1)return!0;if($.code===r$.code)return!0;if($.code===v0.code)return!0;return!1}if($ instanceof E0&&$.status){if($.status===403)return!0;if($.status===408)return!0;if($.status===413)return!0;if($.status===429)return!0;if($.status===500)return!0;if($.status===502)return!0;if($.status===503)return!0;if($.status===504)return!0;return!1}return!0}function e$({chain:$,currentChainId:Q}){if(!$)throw new hQ;if(Q!==$.id)throw new kQ({chain:$,currentChainId:Q})}function F8($){return{formatters:void 0,fees:void 0,serializers:void 0,...$}}function $1($,{errorInstance:Q=new Error("timed out"),timeout:Y,signal:X}){return new Promise((J,Z)=>{(async()=>{let W;try{let V=new AbortController;if(Y>0)W=setTimeout(()=>{if(X)V.abort();else Z(Q)},Y);J(await $({signal:V?.signal||null}))}catch(V){if(V?.name==="AbortError")Z(Q);Z(V)}finally{clearTimeout(W)}})()})}function TX(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var F$=TX();function vQ($,Q={}){return{async request(Y){let{body:X,onRequest:J=Q.onRequest,onResponse:Z=Q.onResponse,timeout:W=Q.timeout??1e4}=Y,V={...Q.fetchOptions??{},...Y.fetchOptions??{}},{headers:G,method:K,signal:S}=V;try{let D=await $1(async({signal:q})=>{let M={...V,body:Array.isArray(X)?k(X.map((F)=>({jsonrpc:"2.0",id:F.id??F$.take(),...F}))):k({jsonrpc:"2.0",id:X.id??F$.take(),...X}),headers:{"Content-Type":"application/json",...G},method:K||"POST",signal:S||(W>0?q:null)},w=new Request($,M),z=await J?.(w,M)??{...M,url:$};return await fetch(z.url??$,z)},{errorInstance:new U$({body:X,url:$}),timeout:W,signal:!0});if(Z)await Z(D);let O;if(D.headers.get("Content-Type")?.startsWith("application/json"))O=await D.json();else{O=await D.text();try{O=JSON.parse(O||"{}")}catch(q){if(D.ok)throw q;O={error:O}}}if(!D.ok)throw new E0({body:X,details:k(O.error)||D.statusText,headers:D.headers,status:D.status,url:$});return O}catch(D){if(D instanceof E0)throw D;if(D instanceof U$)throw D;throw new E0({body:X,cause:D,url:$})}}}}var X5=new Map;async function bQ($){let{getSocket:Q,keepAlive:Y=!0,key:X="socket",reconnect:J=!0,url:Z}=$,{interval:W=30000}=typeof Y==="object"?Y:{},{attempts:V=5,delay:G=2000}=typeof J==="object"?J:{},K=X5.get(`${X}:${Z}`);if(K)return K;let S=0,{schedule:D}=Q1({id:`${X}:${Z}`,fn:async()=>{let M=new Map,w=new Map,z,H,F;async function U(){let _=await Q({onClose(){for(let N of M.values())N.onError?.(new t0({url:Z}));for(let N of w.values())N.onError?.(new t0({url:Z}));if(M.clear(),w.clear(),J&&S<V)setTimeout(async()=>{S++,await U().catch(console.error)},G)},onError(N){z=N;for(let P of M.values())P.onError?.(z);for(let P of w.values())P.onError?.(z);if(M.clear(),w.clear(),K?.close(),J&&S<V)setTimeout(async()=>{S++,await U().catch(console.error)},G)},onOpen(){z=void 0,S=0},onResponse(N){let P=N.method==="eth_subscription",I=P?N.params.subscription:N.id,E=P?w:M,B=E.get(I);if(B)B.onResponse(N);if(!P)E.delete(I)}});if(H=_,Y){if(F)clearInterval(F);F=setInterval(()=>H.ping?.(),W)}return _}return await U(),z=void 0,K={close(){F&&clearInterval(F),H.close(),X5.delete(`${X}:${Z}`)},get socket(){return H},request({body:_,onError:N,onResponse:P}){if(z&&N)N(z);let I=_.id??F$.take(),E=(B)=>{if(typeof B.id==="number"&&I!==B.id)return;if(_.method==="eth_subscribe"&&typeof B.result==="string")w.set(B.result,{onResponse:E,onError:N});if(_.method==="eth_unsubscribe")w.delete(_.params?.[0]);P(B)};M.set(I,{onResponse:E,onError:N});try{H.request({body:{jsonrpc:"2.0",id:I,..._}})}catch(B){N?.(B)}},requestAsync({body:_,timeout:N=1e4}){return $1(()=>new Promise((P,I)=>this.request({body:_,onError:I,onResponse:P})),{errorInstance:new U$({body:_,url:Z}),timeout:N})},requests:M,subscriptions:w,url:Z},X5.set(`${X}:${Z}`,K),[K]}}),[O,[q]]=await D();return q}async function a0($,Q={}){let{keepAlive:Y,reconnect:X}=Q;return bQ({async getSocket({onClose:J,onError:Z,onOpen:W,onResponse:V}){let G=await import("./7gq8twz1.js").then((q)=>q.WebSocket),K=new G($);function S(){K.removeEventListener("close",S),K.removeEventListener("message",D),K.removeEventListener("error",Z),K.removeEventListener("open",W),J()}function D({data:q}){try{let M=JSON.parse(q);V(M)}catch(M){Z(M)}}if(K.addEventListener("close",S),K.addEventListener("message",D),K.addEventListener("error",Z),K.addEventListener("open",W),K.readyState===G.CONNECTING)await new Promise((q,M)=>{if(!K)return;K.onopen=q,K.onerror=M});let{close:O}=K;return Object.assign(K,{close(){O.bind(K)(),S()},ping(){try{if(K.readyState===K.CLOSED||K.readyState===K.CLOSING)throw new J5({url:K.url,cause:new t0({url:K.url})});let q={jsonrpc:"2.0",method:"net_version",params:[]};K.send(JSON.stringify(q))}catch(q){Z(q)}},request({body:q}){if(K.readyState===K.CLOSED||K.readyState===K.CLOSING)throw new J5({body:q,url:K.url,cause:new t0({url:K.url})});return K.send(JSON.stringify(q))}})},keepAlive:Y,reconnect:X,url:$})}async function gQ($){let Q=await a0($);return Object.assign(Q.socket,{requests:Q.requests,subscriptions:Q.subscriptions})}var xX={"0x0":"reverted","0x1":"success"};function Z5($){let Q={...$,blockNumber:$.blockNumber?BigInt($.blockNumber):null,contractAddress:$.contractAddress?$.contractAddress:null,cumulativeGasUsed:$.cumulativeGasUsed?BigInt($.cumulativeGasUsed):null,effectiveGasPrice:$.effectiveGasPrice?BigInt($.effectiveGasPrice):null,gasUsed:$.gasUsed?BigInt($.gasUsed):null,logs:$.logs?$.logs.map((Y)=>u(Y)):null,to:$.to?$.to:null,transactionIndex:$.transactionIndex?p($.transactionIndex):null,status:$.status?xX[$.status]:null,type:$.type?b1[$.type]||$.type:null};if($.blobGasPrice)Q.blobGasPrice=BigInt($.blobGasPrice);if($.blobGasUsed)Q.blobGasUsed=BigInt($.blobGasUsed);return Q}var p8=u0("transactionReceipt",Z5);function pQ($,{docsPath:Q,...Y}){let X=(()=>{let J=d0($,Y);if(J instanceof p0)return $;return J})();return new mQ(X,{docsPath:Q,...Y})}var Y1="0x6492649264926492649264926492649264926492649264926492649264926492";function uQ($){return dQ($,-32)===Y1}function nQ($){let{address:Q,data:Y,signature:X,to:J="hex"}=$,Z=cQ([h$([{type:"address"},{type:"bytes"},{type:"bytes"}],[Q,Y,X]),Y1]);if(J==="hex")return Z;return lQ(Z)}function RX($){return $.map((Q)=>({...Q,value:BigInt(Q.value)}))}function iQ($){return{...$,balance:$.balance?BigInt($.balance):void 0,nonce:$.nonce?p($.nonce):void 0,storageProof:$.storageProof?RX($.storageProof):void 0}}async function oQ($,{address:Q,blockNumber:Y,blockTag:X,storageKeys:J}){let Z=X??"latest",W=Y!==void 0?A(Y):void 0,V=await $.request({method:"eth_getProof",params:[Q,J,W||Z]});return iQ(V)}async function sQ($,{address:Q,blockNumber:Y,blockTag:X="latest",slot:J}){let Z=Y!==void 0?A(Y):void 0;return await $.request({method:"eth_getStorageAt",params:[Q,J,Z||X]})}async function r0($,{blockHash:Q,blockNumber:Y,blockTag:X,hash:J,index:Z}){let W=X||"latest",V=Y!==void 0?A(Y):void 0,G=null;if(J)G=await $.request({method:"eth_getTransactionByHash",params:[J]},{dedupe:!0});else if(Q)G=await $.request({method:"eth_getTransactionByBlockHashAndIndex",params:[Q,A(Z)]},{dedupe:!0});else if(V||W)G=await $.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[V||W,A(Z)]},{dedupe:Boolean(V)});if(!G)throw new X1({blockHash:Q,blockNumber:Y,blockTag:W,hash:J,index:Z});return($.chain?.formatters?.transaction?.format||S$)(G)}async function tQ($,{hash:Q,transactionReceipt:Y}){let[X,J]=await Promise.all([L($,J0,"getBlockNumber")({}),Q?L($,r0,"getTransaction")({hash:Q}):void 0]),Z=Y?.blockNumber||J?.blockNumber;if(!Z)return 0n;return X-Z+1n}async function L$($,{hash:Q}){let Y=await $.request({method:"eth_getTransactionReceipt",params:[Q]},{dedupe:!0});if(!Y)throw new J1({hash:Q});return($.chain?.formatters?.transactionReceipt?.format||Z5)(Y)}async function rQ($,Q){let{allowFailure:Y=!0,batchSize:X,blockNumber:J,blockTag:Z,multicallAddress:W,stateOverride:V}=Q,G=Q.contracts,K=X??(typeof $.batch?.multicall==="object"&&$.batch.multicall.batchSize||1024),S=W;if(!S){if(!$.chain)throw new Error("client chain not configured. multicallAddress is required.");S=$0({blockNumber:J,chain:$.chain,contract:"multicall3"})}let D=[[]],O=0,q=0;for(let z=0;z<G.length;z++){let{abi:H,address:F,args:U,functionName:_}=G[z];try{let N=y({abi:H,args:U,functionName:_});if(q+=(N.length-2)/2,K>0&&q>K&&D[O].length>0)O++,q=(N.length-2)/2,D[O]=[];D[O]=[...D[O],{allowFailure:!0,callData:N,target:F}]}catch(N){let P=i(N,{abi:H,address:F,args:U,docsPath:"/docs/contract/multicall",functionName:_});if(!Y)throw P;D[O]=[...D[O],{allowFailure:!0,callData:"0x",target:F}]}}let M=await Promise.allSettled(D.map((z)=>L($,m,"readContract")({abi:aQ,address:S,args:[z],blockNumber:J,blockTag:Z,functionName:"aggregate3",stateOverride:V}))),w=[];for(let z=0;z<M.length;z++){let H=M[z];if(H.status==="rejected"){if(!Y)throw H.reason;for(let U=0;U<D[z].length;U++)w.push({status:"failure",error:H.reason,result:void 0});continue}let F=H.value;for(let U=0;U<F.length;U++){let{returnData:_,success:N}=F[U],{callData:P}=D[z][U],{abi:I,address:E,functionName:B,args:T}=G[w.length];try{if(P==="0x")throw new y0;if(!N)throw new k0({data:_});let R=o({abi:I,args:T,data:_,functionName:B});w.push(Y?{result:R,status:"success"}:R)}catch(R){let v=i(R,{abi:I,address:E,args:T,docsPath:"/docs/contract/multicall",functionName:B});if(!Y)throw v;w.push({error:v,result:void 0,status:"failure"})}}}if(w.length!==G.length)throw new x("multicall results mismatch");return w}var eQ="0.1.1";function $Y(){return eQ}class f extends Error{constructor($,Q={}){let Y=(()=>{if(Q.cause instanceof f){if(Q.cause.details)return Q.cause.details;if(Q.cause.shortMessage)return Q.cause.shortMessage}if(Q.cause?.message)return Q.cause.message;return Q.details})(),X=(()=>{if(Q.cause instanceof f)return Q.cause.docsPath||Q.docsPath;return Q.docsPath})(),J="https://oxlib.sh",Z=`https://oxlib.sh${X??""}`,W=[$||"An error occurred.",...Q.metaMessages?["",...Q.metaMessages]:[],...Y||X?["",Y?`Details: ${Y}`:void 0,X?`See: ${Z}`:void 0]:[]].filter((V)=>typeof V==="string").join(`
`);super(W,Q.cause?{cause:Q.cause}:void 0);Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${$Y()}`}),this.cause=Q.cause,this.details=Y,this.docs=Z,this.docsPath=X,this.shortMessage=$}walk($){return QY(this,$)}}function QY($,Q){if(Q?.($))return $;if($&&typeof $==="object"&&"cause"in $&&$.cause)return QY($.cause,Q);return Q?null:$}function YY($,Q,Y){return JSON.stringify($,(X,J)=>{if(typeof Q==="function")return Q(X,J);if(typeof J==="bigint")return J.toString()+"#__bigint";return J},Y)}function XY($,Q){if(K5($)>Q)throw new G5({givenSize:K5($),maxSize:Q})}var O0={zero:48,nine:57,A:65,F:70,a:97,f:102};function V5($){if($>=O0.zero&&$<=O0.nine)return $-O0.zero;if($>=O0.A&&$<=O0.F)return $-(O0.A-10);if($>=O0.a&&$<=O0.f)return $-(O0.a-10);return}function JY($,Q={}){let{dir:Y,size:X=32}=Q;if(X===0)return $;if($.length>X)throw new D5({size:$.length,targetSize:X,type:"Bytes"});let J=new Uint8Array(X);for(let Z=0;Z<X;Z++){let W=Y==="right";J[W?Z:X-Z-1]=$[W?Z:$.length-Z-1]}return J}function N$($,Q){if(b($)>Q)throw new q5({givenSize:b($),maxSize:Q})}function ZY($,Q){if(typeof Q==="number"&&Q>0&&Q>b($)-1)throw new Z1({offset:Q,position:"start",size:b($)})}function WY($,Q,Y){if(typeof Q==="number"&&typeof Y==="number"&&b($)!==Y-Q)throw new Z1({offset:Y,position:"end",size:b($)})}function S5($,Q={}){let{dir:Y,size:X=32}=Q;if(X===0)return $;let J=$.replace("0x","");if(J.length>X*2)throw new z5({size:Math.ceil(J.length/2),targetSize:X,type:"Hex"});return`0x${J[Y==="right"?"padEnd":"padStart"](X*2,"0")}`}var yX=new TextEncoder;function VY($){if($ instanceof Uint8Array)return $;if(typeof $==="string")return hX($);return kX($)}function kX($){return $ instanceof Uint8Array?$:new Uint8Array($)}function hX($,Q={}){let{size:Y}=Q,X=$;if(Y)N$($,Y),X=W0($,Y);let J=X.slice(2);if(J.length%2)J=`0${J}`;let Z=J.length/2,W=new Uint8Array(Z);for(let V=0,G=0;V<Z;V++){let K=V5(J.charCodeAt(G++)),S=V5(J.charCodeAt(G++));if(K===void 0||S===void 0)throw new f(`Invalid byte sequence ("${J[G-2]}${J[G-1]}" in "${J}").`);W[V]=K*16+S}return W}function GY($,Q={}){let{size:Y}=Q,X=yX.encode($);if(typeof Y==="number")return XY(X,Y),vX(X,Y);return X}function vX($,Q){return JY($,{dir:"right",size:Q})}function K5($){return $.length}class G5 extends f{constructor({givenSize:$,maxSize:Q}){super(`Size cannot exceed \`${Q}\` bytes. Given size: \`${$}\` bytes.`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class D5 extends f{constructor({size:$,targetSize:Q,type:Y}){super(`${Y.charAt(0).toUpperCase()}${Y.slice(1).toLowerCase()} size (\`${$}\`) exceeds padding size (\`${Q}\`).`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}var bX=new TextEncoder,gX=Array.from({length:256},($,Q)=>Q.toString(16).padStart(2,"0"));function mX($,Q={}){let{strict:Y=!1}=Q;if(!$)throw new H5($);if(typeof $!=="string")throw new H5($);if(Y){if(!/^0x[0-9a-fA-F]*$/.test($))throw new M5($)}if(!$.startsWith("0x"))throw new M5($)}function c(...$){return`0x${$.reduce((Q,Y)=>Q+Y.replace("0x",""),"")}`}function W1($,Q={}){let Y=`0x${Number($)}`;if(typeof Q.size==="number")return N$(Y,Q.size),S0(Y,Q.size);return Y}function e0($,Q={}){let Y="";for(let J=0;J<$.length;J++)Y+=gX[$[J]];let X=`0x${Y}`;if(typeof Q.size==="number")return N$(X,Q.size),W0(X,Q.size);return X}function h($,Q={}){let{signed:Y,size:X}=Q,J=BigInt($),Z;if(X)if(Y)Z=(1n<<BigInt(X)*8n-1n)-1n;else Z=2n**(BigInt(X)*8n)-1n;else if(typeof $==="number")Z=BigInt(Number.MAX_SAFE_INTEGER);let W=typeof Z==="bigint"&&Y?-Z-1n:0;if(Z&&J>Z||J<W){let K=typeof $==="bigint"?"n":"";throw new K1({max:Z?`${Z}${K}`:void 0,min:`${W}${K}`,signed:Y,size:X,value:`${$}${K}`})}let G=`0x${(Y&&J<0?(1n<<BigInt(X*8))+BigInt(J):J).toString(16)}`;if(X)return S0(G,X);return G}function $$($,Q={}){return e0(bX.encode($),Q)}function S0($,Q){return S5($,{dir:"left",size:Q})}function W0($,Q){return S5($,{dir:"right",size:Q})}function Q$($,Q,Y,X={}){let{strict:J}=X;ZY($,Q);let Z=`0x${$.replace("0x","").slice((Q??0)*2,(Y??$.length)*2)}`;if(J)WY(Z,Q,Y);return Z}function b($){return Math.ceil(($.length-2)/2)}function w5($,Q={}){let{strict:Y=!1}=Q;try{return mX($,{strict:Y}),!0}catch{return!1}}class K1 extends f{constructor({max:$,min:Q,signed:Y,size:X,value:J}){super(`Number \`${J}\` is not in safe${X?` ${X*8}-bit`:""}${Y?" signed":" unsigned"} integer range ${$?`(\`${Q}\` to \`${$}\`)`:`(above \`${Q}\`)`}`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class H5 extends f{constructor($){super(`Value \`${typeof $==="object"?YY($):$}\` of type \`${typeof $}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']});Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class M5 extends f{constructor($){super(`Value \`${$}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']});Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class q5 extends f{constructor({givenSize:$,maxSize:Q}){super(`Size cannot exceed \`${Q}\` bytes. Given size: \`${$}\` bytes.`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Z1 extends f{constructor({offset:$,position:Q,size:Y}){super(`Slice ${Q==="start"?"starting":"ending"} at offset \`${$}\` is out-of-bounds (size: \`${Y}\`).`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class z5 extends f{constructor({size:$,targetSize:Q,type:Y}){super(`${Y.charAt(0).toUpperCase()}${Y.slice(1).toLowerCase()} size (\`${$}\`) exceeds padding size (\`${Q}\`).`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function DY($){return{address:$.address,amount:h($.amount),index:h($.index),validatorIndex:h($.validatorIndex)}}function OY($){return{...typeof $.baseFeePerGas==="bigint"&&{baseFeePerGas:h($.baseFeePerGas)},...typeof $.blobBaseFee==="bigint"&&{blobBaseFee:h($.blobBaseFee)},...typeof $.feeRecipient==="string"&&{feeRecipient:$.feeRecipient},...typeof $.gasLimit==="bigint"&&{gasLimit:h($.gasLimit)},...typeof $.number==="bigint"&&{number:h($.number)},...typeof $.prevRandao==="bigint"&&{prevRandao:h($.prevRandao)},...typeof $.time==="bigint"&&{time:h($.time)},...$.withdrawals&&{withdrawals:$.withdrawals.map(DY)}}}async function _$($,Q){let{blockNumber:Y,blockTag:X="latest",blocks:J,returnFullTransactions:Z,traceTransfers:W,validation:V}=Q;try{let G=[];for(let O of J){let q=O.blockOverrides?OY(O.blockOverrides):void 0,M=O.calls.map((z)=>{let H=z,F=H.account?j(H.account):void 0,U={...H,data:H.abi?y(H):H.data,from:H.from??F?.address};return s(U),Q0(U)}),w=O.stateOverrides?n$(O.stateOverrides):void 0;G.push({blockOverrides:q,calls:M,stateOverrides:w})}let S=(Y?A(Y):void 0)||X;return(await $.request({method:"eth_simulateV1",params:[{blockStateCalls:G,returnFullTransactions:Z,traceTransfers:W,validation:V},S]})).map((O,q)=>({...q$(O),calls:O.calls.map((M,w)=>{let{abi:z,args:H,functionName:F,to:U}=J[q].calls[w],_=M.error?.data??M.returnData,N=BigInt(M.gasUsed),P=M.logs?.map((T)=>u(T)),I=M.status==="0x1"?"success":"failure",E=z&&I==="success"?o({abi:z,data:_,functionName:F}):null,B=(()=>{if(I==="success")return;let T=void 0;if(M.error?.data==="0x")T=new y0;else if(M.error)T=new k0(M.error);if(!T)return;return i(T,{abi:z??[],address:U,args:H,functionName:F??"<unknown>"})})();return{data:_,gasUsed:N,logs:P,status:I,...I==="success"?{result:E}:{error:B}}})}))}catch(G){let K=G,S=d0(K,{});if(S instanceof p0)throw K;throw S}}function V1($,Q={}){let{as:Y=typeof $==="string"?"Hex":"Bytes"}=Q,X=SY(VY($));if(Y==="Bytes")return X;return e0(X)}class F5 extends Map{constructor($){super();Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=$}get($){let Q=super.get($);if(super.has($)&&Q!==void 0)this.delete($),super.set($,Q);return Q}set($,Q){if(super.set($,Q),this.maxSize&&this.size>this.maxSize){let Y=this.keys().next().value;if(Y)this.delete(Y)}return this}}var uX={checksum:new F5(8192)},G1=uX.checksum;var cX=/^0x[a-fA-F0-9]{40}$/;function Y$($,Q={}){let{strict:Y=!0}=Q;if(!cX.test($))throw new U5({address:$,cause:new HY});if(Y){if($.toLowerCase()===$)return;if(zY($)!==$)throw new U5({address:$,cause:new MY})}}function zY($){if(G1.has($))return G1.get($);Y$($,{strict:!1});let Q=$.substring(2).toLowerCase(),Y=V1(GY(Q),{as:"Bytes"}),X=Q.split("");for(let Z=0;Z<40;Z+=2){if(Y[Z>>1]>>4>=8&&X[Z])X[Z]=X[Z].toUpperCase();if((Y[Z>>1]&15)>=8&&X[Z+1])X[Z+1]=X[Z+1].toUpperCase()}let J=`0x${X.join("")}`;return G1.set($,J),J}function D1($,Q={}){let{strict:Y=!0}=Q??{};try{return Y$($,{strict:Y}),!0}catch{return!1}}class U5 extends f{constructor({address:$,cause:Q}){super(`Address "${$}" is invalid.`,{cause:Q});Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class HY extends f{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value.");Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class MY extends f{constructor(){super("Address does not match its checksum counterpart.");Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function S1($){let Q=!0,Y="",X=0,J="",Z=!1;for(let W=0;W<$.length;W++){let V=$[W];if(["(",")",","].includes(V))Q=!0;if(V==="(")X++;if(V===")")X--;if(!Q)continue;if(X===0){if(V===" "&&["event","function","error",""].includes(J))J="";else if(J+=V,V===")"){Z=!0;break}continue}if(V===" "){if($[W-1]!==","&&Y!==","&&Y!==",(")Y="",Q=!1;continue}J+=V,Y+=V}if(!Z)throw new f("Unable to normalize signature.");return J}function O1($,Q){let Y=typeof $,X=Q.type;switch(X){case"address":return D1($,{strict:!1});case"bool":return Y==="boolean";case"function":return Y==="string";case"string":return Y==="string";default:{if(X==="tuple"&&"components"in Q)return Object.values(Q.components).every((J,Z)=>{return O1(Object.values($)[Z],J)});if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(X))return Y==="number"||Y==="bigint";if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(X))return Y==="string"||$ instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(X))return Array.isArray($)&&$.every((J)=>O1(J,{...Q,type:X.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}}function N5($,Q,Y){for(let X in $){let J=$[X],Z=Q[X];if(J.type==="tuple"&&Z.type==="tuple"&&"components"in J&&"components"in Z)return N5(J.components,Z.components,Y[X]);let W=[J.type,Z.type];if((()=>{if(W.includes("address")&&W.includes("bytes20"))return!0;if(W.includes("address")&&W.includes("string"))return D1(Y[X],{strict:!1});if(W.includes("address")&&W.includes("bytes"))return D1(Y[X],{strict:!1});return!1})())return W}return}function z1($,Q={}){let{prepare:Y=!0}=Q,X=(()=>{if(Array.isArray($))return _5($);if(typeof $==="string")return _5($);return $})();return{...X,...Y?{hash:X$(X)}:{}}}function wY($,Q,Y){let{args:X=[],prepare:J=!0}=Y??{},Z=w5(Q,{strict:!1}),W=$.filter((K)=>{if(Z){if(K.type==="function"||K.type==="error")return I5(K)===Q$(Q,0,4);if(K.type==="event")return X$(K)===Q;return!1}return"name"in K&&K.name===Q});if(W.length===0)throw new J$({name:Q});if(W.length===1)return{...W[0],...J?{hash:X$(W[0])}:{}};let V=void 0;for(let K of W){if(!("inputs"in K))continue;if(!X||X.length===0){if(!K.inputs||K.inputs.length===0)return{...K,...J?{hash:X$(K)}:{}};continue}if(!K.inputs)continue;if(K.inputs.length===0)continue;if(K.inputs.length!==X.length)continue;if(X.every((D,O)=>{let q="inputs"in K&&K.inputs[O];if(!q)return!1;return O1(D,q)})){if(V&&"inputs"in V&&V.inputs){let D=N5(K.inputs,V.inputs,X);if(D)throw new FY({abiItem:K,type:D[0]},{abiItem:V,type:D[1]})}V=K}}let G=(()=>{if(V)return V;let[K,...S]=W;return{...K,overloads:S}})();if(!G)throw new J$({name:Q});return{...G,...J?{hash:X$(G)}:{}}}function I5($){return Q$(X$($),0,4)}function iX($){let Q=(()=>{if(typeof $==="string")return $;return q1($)})();return S1(Q)}function X$($){if(typeof $!=="string"&&"hash"in $&&$.hash)return $.hash;return V1($$(iX($)))}class FY extends f{constructor($,Q){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${$.type}\` in \`${S1(q1($.abiItem))}\`, and`,`\`${Q.type}\` in \`${S1(q1(Q.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]});Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class J$ extends f{constructor({name:$,data:Q,type:Y="item"}){let X=(()=>{if($)return` with name "${$}"`;if(Q)return` with data "${Q}"`;return""})();super(`ABI ${Y}${X} not found.`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}var LY=/^(.*)\[([0-9]*)\]$/,NY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,H1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,qK=2n**(8n-1n)-1n,zK=2n**(16n-1n)-1n,HK=2n**(24n-1n)-1n,MK=2n**(32n-1n)-1n,wK=2n**(40n-1n)-1n,FK=2n**(48n-1n)-1n,UK=2n**(56n-1n)-1n,LK=2n**(64n-1n)-1n,NK=2n**(72n-1n)-1n,_K=2n**(80n-1n)-1n,IK=2n**(88n-1n)-1n,PK=2n**(96n-1n)-1n,BK=2n**(104n-1n)-1n,CK=2n**(112n-1n)-1n,AK=2n**(120n-1n)-1n,EK=2n**(128n-1n)-1n,TK=2n**(136n-1n)-1n,xK=2n**(144n-1n)-1n,RK=2n**(152n-1n)-1n,fK=2n**(160n-1n)-1n,jK=2n**(168n-1n)-1n,yK=2n**(176n-1n)-1n,kK=2n**(184n-1n)-1n,hK=2n**(192n-1n)-1n,vK=2n**(200n-1n)-1n,bK=2n**(208n-1n)-1n,gK=2n**(216n-1n)-1n,mK=2n**(224n-1n)-1n,pK=2n**(232n-1n)-1n,dK=2n**(240n-1n)-1n,uK=2n**(248n-1n)-1n,lK=2n**(256n-1n)-1n,cK=-(2n**(8n-1n)),nK=-(2n**(16n-1n)),iK=-(2n**(24n-1n)),oK=-(2n**(32n-1n)),sK=-(2n**(40n-1n)),tK=-(2n**(48n-1n)),aK=-(2n**(56n-1n)),rK=-(2n**(64n-1n)),eK=-(2n**(72n-1n)),$3=-(2n**(80n-1n)),Q3=-(2n**(88n-1n)),Y3=-(2n**(96n-1n)),X3=-(2n**(104n-1n)),J3=-(2n**(112n-1n)),Z3=-(2n**(120n-1n)),W3=-(2n**(128n-1n)),K3=-(2n**(136n-1n)),V3=-(2n**(144n-1n)),G3=-(2n**(152n-1n)),D3=-(2n**(160n-1n)),O3=-(2n**(168n-1n)),S3=-(2n**(176n-1n)),q3=-(2n**(184n-1n)),z3=-(2n**(192n-1n)),H3=-(2n**(200n-1n)),M3=-(2n**(208n-1n)),w3=-(2n**(216n-1n)),F3=-(2n**(224n-1n)),U3=-(2n**(232n-1n)),L3=-(2n**(240n-1n)),N3=-(2n**(248n-1n)),_3=-(2n**(256n-1n)),I3=2n**8n-1n,P3=2n**16n-1n,B3=2n**24n-1n,C3=2n**32n-1n,A3=2n**40n-1n,E3=2n**48n-1n,T3=2n**56n-1n,x3=2n**64n-1n,R3=2n**72n-1n,f3=2n**80n-1n,j3=2n**88n-1n,y3=2n**96n-1n,k3=2n**104n-1n,h3=2n**112n-1n,v3=2n**120n-1n,b3=2n**128n-1n,g3=2n**136n-1n,m3=2n**144n-1n,p3=2n**152n-1n,d3=2n**160n-1n,u3=2n**168n-1n,l3=2n**176n-1n,c3=2n**184n-1n,n3=2n**192n-1n,i3=2n**200n-1n,o3=2n**208n-1n,s3=2n**216n-1n,t3=2n**224n-1n,a3=2n**232n-1n,r3=2n**240n-1n,e3=2n**248n-1n,$7=2n**256n-1n;function _Y({checksumAddress:$,parameters:Q,values:Y}){let X=[];for(let J=0;J<Q.length;J++)X.push(P5({checksumAddress:$,parameter:Q[J],value:Y[J]}));return X}function P5({checksumAddress:$=!1,parameter:Q,value:Y}){let X=Q,J=Y9(X.type);if(J){let[Z,W]=J;return tX(Y,{checksumAddress:$,length:Z,parameter:{...X,type:W}})}if(X.type==="tuple")return Q9(Y,{checksumAddress:$,parameter:X});if(X.type==="address")return sX(Y,{checksum:$});if(X.type==="bool")return rX(Y);if(X.type.startsWith("uint")||X.type.startsWith("int")){let Z=X.type.startsWith("int"),[,,W="256"]=H1.exec(X.type)??[];return eX(Y,{signed:Z,size:Number(W)})}if(X.type.startsWith("bytes"))return aX(Y,{type:X.type});if(X.type==="string")return $9(Y);throw new F1(X.type)}function M1($){let Q=0;for(let Z=0;Z<$.length;Z++){let{dynamic:W,encoded:V}=$[Z];if(W)Q+=32;else Q+=b(V)}let Y=[],X=[],J=0;for(let Z=0;Z<$.length;Z++){let{dynamic:W,encoded:V}=$[Z];if(W)Y.push(h(Q+J,{size:32})),X.push(V),J+=b(V);else Y.push(V)}return c(...Y,...X)}function sX($,Q){let{checksum:Y=!1}=Q;return Y$($,{strict:Y}),{dynamic:!1,encoded:S0($.toLowerCase())}}function tX($,Q){let{checksumAddress:Y,length:X,parameter:J}=Q,Z=X===null;if(!Array.isArray($))throw new C5($);if(!Z&&$.length!==X)throw new B5({expectedLength:X,givenLength:$.length,type:`${J.type}[${X}]`});let W=!1,V=[];for(let G=0;G<$.length;G++){let K=P5({checksumAddress:Y,parameter:J,value:$[G]});if(K.dynamic)W=!0;V.push(K)}if(Z||W){let G=M1(V);if(Z){let K=h(V.length,{size:32});return{dynamic:!0,encoded:V.length>0?c(K,G):K}}if(W)return{dynamic:!0,encoded:G}}return{dynamic:!1,encoded:c(...V.map(({encoded:G})=>G))}}function aX($,{type:Q}){let[,Y]=Q.split("bytes"),X=b($);if(!Y){let J=$;if(X%32!==0)J=W0(J,Math.ceil(($.length-2)/2/32)*32);return{dynamic:!0,encoded:c(S0(h(X,{size:32})),J)}}if(X!==Number.parseInt(Y))throw new w1({expectedSize:Number.parseInt(Y),value:$});return{dynamic:!1,encoded:W0($)}}function rX($){if(typeof $!=="boolean")throw new f(`Invalid boolean value: "${$}" (type: ${typeof $}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:S0(W1($))}}function eX($,{signed:Q,size:Y}){if(typeof Y==="number"){let X=2n**(BigInt(Y)-(Q?1n:0n))-1n,J=Q?-X-1n:0n;if($>X||$<J)throw new K1({max:X.toString(),min:J.toString(),signed:Q,size:Y/8,value:$.toString()})}return{dynamic:!1,encoded:h($,{size:32,signed:Q})}}function $9($){let Q=$$($),Y=Math.ceil(b(Q)/32),X=[];for(let J=0;J<Y;J++)X.push(W0(Q$(Q,J*32,(J+1)*32)));return{dynamic:!0,encoded:c(W0(h(b(Q),{size:32})),...X)}}function Q9($,Q){let{checksumAddress:Y,parameter:X}=Q,J=!1,Z=[];for(let W=0;W<X.components.length;W++){let V=X.components[W],G=Array.isArray($)?W:V.name,K=P5({checksumAddress:Y,parameter:V,value:$[G]});if(Z.push(K),K.dynamic)J=!0}return{dynamic:J,encoded:J?M1(Z):c(...Z.map(({encoded:W})=>W))}}function Y9($){let Q=$.match(/^(.*)\[(\d+)?\]$/);return Q?[Q[2]?Number(Q[2]):null,Q[1]]:void 0}function U1($,Q,Y){let{checksumAddress:X=!1}=Y??{};if($.length!==Q.length)throw new T5({expectedLength:$.length,givenLength:Q.length});let J=_Y({checksumAddress:X,parameters:$,values:Q}),Z=M1(J);if(Z.length===0)return"0x";return Z}function E5($,Q){if($.length!==Q.length)throw new T5({expectedLength:$.length,givenLength:Q.length});let Y=[];for(let X=0;X<$.length;X++){let J=$[X],Z=Q[X];Y.push(E5.encode(J,Z))}return c(...Y)}(function($){function Q(Y,X,J=!1){if(Y==="address"){let G=X;return Y$(G),S0(G.toLowerCase(),J?32:0)}if(Y==="string")return $$(X);if(Y==="bytes")return X;if(Y==="bool")return S0(W1(X),J?32:1);let Z=Y.match(H1);if(Z){let[G,K,S="256"]=Z,D=Number.parseInt(S)/8;return h(X,{size:J?32:D,signed:K==="int"})}let W=Y.match(NY);if(W){let[G,K]=W;if(Number.parseInt(K)!==(X.length-2)/2)throw new w1({expectedSize:Number.parseInt(K),value:X});return W0(X,J?32:0)}let V=Y.match(LY);if(V&&Array.isArray(X)){let[G,K]=V,S=[];for(let D=0;D<X.length;D++)S.push(Q(K,X[D],!0));if(S.length===0)return"0x";return c(...S)}throw new F1(Y)}$.encode=Q})(E5||(E5={}));class B5 extends f{constructor({expectedLength:$,givenLength:Q,type:Y}){super(`Array length mismatch for type \`${Y}\`. Expected: \`${$}\`. Given: \`${Q}\`.`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class w1 extends f{constructor({expectedSize:$,value:Q}){super(`Size of bytes "${Q}" (bytes${b(Q)}) does not match expected size (bytes${$}).`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class T5 extends f{constructor({expectedLength:$,givenLength:Q}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${$}`,`Given length (values): ${Q}`].join(`
`));Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class C5 extends f{constructor($){super(`Value \`${$}\` is not a valid array.`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class F1 extends f{constructor($){super(`Type \`${$}\` is not a valid ABI Type.`);Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function IY($,Q){let{bytecode:Y,args:X}=Q;return c(Y,$.inputs?.length&&X?.length?U1($.inputs,X):"0x")}function PY($){return z1($)}function BY($,...Q){let{overloads:Y}=$,X=Y?W9([$,...Y],$.name,{args:Q[0]}):$,J=K9(X),Z=Q.length>0?U1(X.inputs,Q[0]):void 0;return Z?c(J,Z):J}function x0($,Q={}){return z1($,Q)}function W9($,Q,Y){let X=wY($,Q,Y);if(X.type!=="function")throw new J$({name:Q,type:"function"});return X}function K9($){return I5($)}var CY="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",a="0x0000000000000000000000000000000000000000";var G9="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function EY($,Q){let{blockNumber:Y,blockTag:X,calls:J,stateOverrides:Z,traceAssetChanges:W,traceTransfers:V,validation:G}=Q,K=Q.account?j(Q.account):void 0;if(W&&!K)throw new x("`account` is required when `traceAssetChanges` is true");let S=K?IY(PY("constructor(bytes, bytes)"),{bytecode:AY,args:[G9,BY(x0("function getBalance(address)"),[K.address])]}):void 0,D=W?await Promise.all(Q.calls.map(async(C)=>{if(!C.data&&!C.abi)return;let{accessList:g}=await y$($,{account:K.address,...C,data:C.abi?y(C):C.data});return g.map(({address:V$,storageKeys:B$})=>B$.length>0?V$:null)})).then((C)=>C.flat().filter(Boolean)):[],O=Z?.map((C)=>{if(C.address===K?.address)return{...C,nonce:0};return C}),q=await _$($,{blockNumber:Y,blockTag:X,blocks:[...W?[{calls:[{data:S}],stateOverrides:Z},{calls:D.map((C,g)=>({abi:[x0("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[K.address],to:C,from:a,nonce:g})),stateOverrides:[{address:a,nonce:0}]}]:[],{calls:[...J,{}].map((C,g)=>({...C,from:K?.address,nonce:g})),stateOverrides:O},...W?[{calls:[{data:S}]},{calls:D.map((C,g)=>({abi:[x0("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[K.address],to:C,from:a,nonce:g})),stateOverrides:[{address:a,nonce:0}]},{calls:D.map((C,g)=>({to:C,abi:[x0("function decimals() returns (uint256)")],functionName:"decimals",from:a,nonce:g})),stateOverrides:[{address:a,nonce:0}]},{calls:D.map((C,g)=>({to:C,abi:[x0("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:a,nonce:g})),stateOverrides:[{address:a,nonce:0}]},{calls:D.map((C,g)=>({to:C,abi:[x0("function symbol() returns (string)")],functionName:"symbol",from:a,nonce:g})),stateOverrides:[{address:a,nonce:0}]}]:[]],traceTransfers:V,validation:G}),M=W?q[2]:q[0],[w,z,,H,F,U,_,N]=W?q:[],{calls:P,...I}=M,E=P.slice(0,-1)??[],B=w?.calls??[],T=z?.calls??[],R=[...B,...T].map((C)=>C.status==="success"?t(C.data):null),v=H?.calls??[],I0=F?.calls??[],e=[...v,...I0].map((C)=>C.status==="success"?t(C.data):null),V0=(U?.calls??[]).map((C)=>C.status==="success"?C.result:null),q0=(N?.calls??[]).map((C)=>C.status==="success"?C.result:null),B1=(_?.calls??[]).map((C)=>C.status==="success"?C.result:null),C1=[];for(let[C,g]of e.entries()){let V$=R[C];if(typeof g!=="bigint")continue;if(typeof V$!=="bigint")continue;let B$=V0[C-1],OX=q0[C-1],SX=B1[C-1],j5=(()=>{if(C===0)return{address:CY,decimals:18,symbol:"ETH"};return{address:D[C-1],decimals:SX||B$?Number(B$??1):void 0,symbol:OX??void 0}})();if(C1.some((qX)=>qX.token.address===j5.address))continue;C1.push({token:j5,value:{pre:V$,post:g,diff:g-V$}})}return{assetChanges:C1,block:I,results:E}}async function TY($,Q){let{abi:Y,address:X,args:J,dataSuffix:Z,functionName:W,...V}=Q,G=V.account?j(V.account):$.account,K=y({abi:Y,args:J,functionName:W});try{let{data:S}=await L($,w0,"call")({batch:!1,data:`${K}${Z?Z.replace("0x",""):""}`,to:X,...V,account:G}),D=o({abi:Y,args:J,functionName:W,data:S||"0x"}),O=Y.filter((q)=>("name"in q)&&q.name===Q.functionName);return{result:D,request:{abi:O,address:X,args:J,dataSuffix:Z,functionName:W,...V,account:G}}}catch(S){throw i(S,{abi:Y,address:X,args:J,docsPath:"/docs/contract/simulateContract",functionName:W,sender:G?.address})}}async function _0($,{filter:Q}){return Q.request({method:"eth_uninstallFilter",params:[Q.id]})}async function Z$($,Q){let{address:Y,factory:X,factoryData:J,hash:Z,signature:W,universalSignatureVerifierAddress:V=$.chain?.contracts?.universalSignatureVerifier?.address,...G}=Q,K=(()=>{if(P0(W))return W;if(typeof W==="object"&&"r"in W&&"s"in W)return xY(W);return z0(W)})(),S=await(async()=>{if(!X&&!J)return K;if(uQ(K))return K;return nQ({address:X,data:J,signature:K})})();try{let D=V?{to:V,data:y({abi:x5,functionName:"isValidSig",args:[Y,Z,S]}),...G}:{data:N1({abi:x5,args:[Y,Z,S],bytecode:fY}),...G},{data:O}=await L($,w0,"call")(D);return W5(O??"0x0")}catch(D){try{if(i0(L1(Y),await p$({hash:Z,signature:W})))return!0}catch{}if(D instanceof RY)return!1;throw D}}async function jY($,{address:Q,message:Y,factory:X,factoryData:J,signature:Z,...W}){let V=_1(Y);return Z$($,{address:Q,factory:X,factoryData:J,hash:V,signature:Z,...W})}async function kY($,Q){let{address:Y,factory:X,factoryData:J,signature:Z,message:W,primaryType:V,types:G,domain:K,...S}=Q,D=yY({message:W,primaryType:V,types:G,domain:K});return Z$($,{address:Y,factory:X,factoryData:J,hash:D,signature:Z,...S})}var R5=new Map,hY=new Map,D9=0;function n($,Q,Y){let X=++D9,J=()=>R5.get($)||[],Z=()=>{let S=J();R5.set($,S.filter((D)=>D.id!==X))},W=()=>{let S=J();if(!S.some((O)=>O.id===X))return;let D=hY.get($);if(S.length===1&&D)D();Z()},V=J();if(R5.set($,[...V,{id:X,fns:Q}]),V&&V.length>0)return W;let G={};for(let S in Q)G[S]=(...D)=>{let O=J();if(O.length===0)return;for(let q of O)q.fns[S]?.(...D)};let K=Y(G);if(typeof K==="function")hY.set($,K);return W}function K0($,{emitOnBegin:Q,initialWaitTime:Y,interval:X}){let J=!0,Z=()=>J=!1;return(async()=>{let V=void 0;if(Q)V=await $({unpoll:Z});let G=await Y?.(V)??X;await z$(G);let K=async()=>{if(!J)return;await $({unpoll:Z}),await z$(X),K()};K()})(),Z}function I1($,{emitOnBegin:Q=!1,emitMissed:Y=!1,onBlockNumber:X,onError:J,poll:Z,pollingInterval:W=$.pollingInterval}){let V=(()=>{if(typeof Z!=="undefined")return Z;if($.transport.type==="webSocket")return!1;if($.transport.type==="fallback"&&$.transport.transports[0].config.type==="webSocket")return!1;return!0})(),G;return V?(()=>{let D=k(["watchBlockNumber",$.uid,Q,Y,W]);return n(D,{onBlockNumber:X,onError:J},(O)=>K0(async()=>{try{let q=await L($,J0,"getBlockNumber")({cacheTime:0});if(G){if(q===G)return;if(q-G>1&&Y)for(let M=G+1n;M<q;M++)O.onBlockNumber(M,G),G=M}if(!G||q>G)O.onBlockNumber(q,G),G=q}catch(q){O.onError?.(q)}},{emitOnBegin:Q,interval:W}))})():(()=>{let D=k(["watchBlockNumber",$.uid,Q,Y]);return n(D,{onBlockNumber:X,onError:J},(O)=>{let q=!0,M=()=>q=!1;return(async()=>{try{let w=(()=>{if($.transport.type==="fallback"){let H=$.transport.transports.find((F)=>F.config.type==="webSocket");if(!H)return $.transport;return H.value}return $.transport})(),{unsubscribe:z}=await w.subscribe({params:["newHeads"],onData(H){if(!q)return;let F=t(H.result?.number);O.onBlockNumber(F,G),G=F},onError(H){O.onError?.(H)}});if(M=z,!q)M()}catch(w){J?.(w)}})(),()=>M()})})()}async function gY($,{confirmations:Q=1,hash:Y,onReplaced:X,pollingInterval:J=$.pollingInterval,retryCount:Z=6,retryDelay:W=({count:G})=>~~(1<<G)*200,timeout:V=180000}){let G=k(["waitForTransactionReceipt",$.uid,Y]),K,S,D,O=!1,{promise:q,resolve:M,reject:w}=bY(),z=V?setTimeout(()=>w(new vY({hash:Y})),V):void 0,H=n(G,{onReplaced:X,resolve:M,reject:w},(F)=>{let U=L($,I1,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:J,async onBlockNumber(_){let N=(I)=>{clearTimeout(z),U(),I(),H()},P=_;if(O)return;try{if(D){if(Q>1&&(!D.blockNumber||P-D.blockNumber+1n<Q))return;N(()=>F.resolve(D));return}if(!K)O=!0,await H$(async()=>{if(K=await L($,r0,"getTransaction")({hash:Y}),K.blockNumber)P=K.blockNumber},{delay:W,retryCount:Z}),O=!1;if(D=await L($,L$,"getTransactionReceipt")({hash:Y}),Q>1&&(!D.blockNumber||P-D.blockNumber+1n<Q))return;N(()=>F.resolve(D))}catch(I){if(I instanceof X1||I instanceof J1){if(!K){O=!1;return}try{S=K,O=!0;let E=await H$(()=>L($,d,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:W,retryCount:Z,shouldRetry:({error:R})=>R instanceof O$});O=!1;let B=E.transactions.find(({from:R,nonce:v})=>R===S.from&&v===S.nonce);if(!B)return;if(D=await L($,L$,"getTransactionReceipt")({hash:B.hash}),Q>1&&(!D.blockNumber||P-D.blockNumber+1n<Q))return;let T="replaced";if(B.to===S.to&&B.value===S.value&&B.input===S.input)T="repriced";else if(B.from===B.to&&B.value===0n)T="cancelled";N(()=>{F.onReplaced?.({reason:T,replacedTransaction:S,transaction:B,transactionReceipt:D}),F.resolve(D)})}catch(E){N(()=>F.reject(E))}}else N(()=>F.reject(I))}}})});return q}function mY($,{blockTag:Q="latest",emitMissed:Y=!1,emitOnBegin:X=!1,onBlock:J,onError:Z,includeTransactions:W,poll:V,pollingInterval:G=$.pollingInterval}){let K=(()=>{if(typeof V!=="undefined")return V;if($.transport.type==="webSocket")return!1;if($.transport.type==="fallback"&&$.transport.transports[0].config.type==="webSocket")return!1;return!0})(),S=W??!1,D;return K?(()=>{let M=k(["watchBlocks",$.uid,Q,Y,X,S,G]);return n(M,{onBlock:J,onError:Z},(w)=>K0(async()=>{try{let z=await L($,d,"getBlock")({blockTag:Q,includeTransactions:S});if(z.number&&D?.number){if(z.number===D.number)return;if(z.number-D.number>1&&Y)for(let H=D?.number+1n;H<z.number;H++){let F=await L($,d,"getBlock")({blockNumber:H,includeTransactions:S});w.onBlock(F,D),D=F}}if(!D?.number||Q==="pending"&&!z?.number||z.number&&z.number>D.number)w.onBlock(z,D),D=z}catch(z){w.onError?.(z)}},{emitOnBegin:X,interval:G}))})():(()=>{let M=!0,w=!0,z=()=>M=!1;return(async()=>{try{if(X)L($,d,"getBlock")({blockTag:Q,includeTransactions:S}).then((U)=>{if(!M)return;if(!w)return;J(U,void 0),w=!1});let H=(()=>{if($.transport.type==="fallback"){let U=$.transport.transports.find((_)=>_.config.type==="webSocket");if(!U)return $.transport;return U.value}return $.transport})(),{unsubscribe:F}=await H.subscribe({params:["newHeads"],async onData(U){if(!M)return;let _=await L($,d,"getBlock")({blockNumber:U.blockNumber,includeTransactions:S}).catch(()=>{});if(!M)return;J(_,D),w=!1,D=_},onError(U){Z?.(U)}});if(z=F,!M)z()}catch(H){Z?.(H)}})(),()=>z()})()}function pY($,Q){let{abi:Y,address:X,args:J,batch:Z=!0,eventName:W,fromBlock:V,onError:G,onLogs:K,poll:S,pollingInterval:D=$.pollingInterval,strict:O}=Q;return(()=>{if(typeof S!=="undefined")return S;if(typeof V==="bigint")return!0;if($.transport.type==="webSocket")return!1;if($.transport.type==="fallback"&&$.transport.transports[0].config.type==="webSocket")return!1;return!0})()?(()=>{let z=O??!1,H=k(["watchContractEvent",X,J,Z,$.uid,W,D,z,V]);return n(H,{onLogs:K,onError:G},(F)=>{let U;if(V!==void 0)U=V-1n;let _,N=!1,P=K0(async()=>{if(!N){try{_=await L($,b$,"createContractEventFilter")({abi:Y,address:X,args:J,eventName:W,strict:z,fromBlock:V})}catch{}N=!0;return}try{let I;if(_)I=await L($,N0,"getFilterChanges")({filter:_});else{let E=await L($,J0,"getBlockNumber")({});if(U&&U<E)I=await L($,o$,"getContractEvents")({abi:Y,address:X,args:J,eventName:W,fromBlock:U+1n,toBlock:E,strict:z});else I=[];U=E}if(I.length===0)return;if(Z)F.onLogs(I);else for(let E of I)F.onLogs([E])}catch(I){if(_&&I instanceof A0)N=!1;F.onError?.(I)}},{emitOnBegin:!0,interval:D});return async()=>{if(_)await L($,_0,"uninstallFilter")({filter:_});P()}})})():(()=>{let z=O??!1,H=k(["watchContractEvent",X,J,Z,$.uid,W,D,z]),F=!0,U=()=>F=!1;return n(H,{onLogs:K,onError:G},(_)=>{return(async()=>{try{let N=(()=>{if($.transport.type==="fallback"){let E=$.transport.transports.find((B)=>B.config.type==="webSocket");if(!E)return $.transport;return E.value}return $.transport})(),P=W?Y0({abi:Y,eventName:W,args:J}):[],{unsubscribe:I}=await N.subscribe({params:["logs",{address:X,topics:P}],onData(E){if(!F)return;let B=E.result;try{let{eventName:T,args:R}=n0({abi:Y,data:B.data,topics:B.topics,strict:O}),v=u(B,{args:R,eventName:T});_.onLogs([v])}catch(T){let R,v;if(T instanceof D0||T instanceof L0){if(O)return;R=T.abiItem.name,v=T.abiItem.inputs?.some((e)=>!(("name"in e)&&e.name))}let I0=u(B,{args:v?[]:{},eventName:R});_.onLogs([I0])}},onError(E){_.onError?.(E)}});if(U=I,!F)U()}catch(N){G?.(N)}})(),()=>U()})})()}function dY($,{address:Q,args:Y,batch:X=!0,event:J,events:Z,fromBlock:W,onError:V,onLogs:G,poll:K,pollingInterval:S=$.pollingInterval,strict:D}){let O=(()=>{if(typeof K!=="undefined")return K;if(typeof W==="bigint")return!0;if($.transport.type==="webSocket")return!1;if($.transport.type==="fallback"&&$.transport.transports[0].config.type==="webSocket")return!1;return!0})(),q=D??!1;return O?(()=>{let z=k(["watchEvent",Q,Y,X,$.uid,J,S,W]);return n(z,{onLogs:G,onError:V},(H)=>{let F;if(W!==void 0)F=W-1n;let U,_=!1,N=K0(async()=>{if(!_){try{U=await L($,g$,"createEventFilter")({address:Q,args:Y,event:J,events:Z,strict:q,fromBlock:W})}catch{}_=!0;return}try{let P;if(U)P=await L($,N0,"getFilterChanges")({filter:U});else{let I=await L($,J0,"getBlockNumber")({});if(F&&F!==I)P=await L($,s0,"getLogs")({address:Q,args:Y,event:J,events:Z,fromBlock:F+1n,toBlock:I});else P=[];F=I}if(P.length===0)return;if(X)H.onLogs(P);else for(let I of P)H.onLogs([I])}catch(P){if(U&&P instanceof A0)_=!1;H.onError?.(P)}},{emitOnBegin:!0,interval:S});return async()=>{if(U)await L($,_0,"uninstallFilter")({filter:U});N()}})})():(()=>{let z=!0,H=()=>z=!1;return(async()=>{try{let F=(()=>{if($.transport.type==="fallback"){let P=$.transport.transports.find((I)=>I.config.type==="webSocket");if(!P)return $.transport;return P.value}return $.transport})(),U=Z??(J?[J]:void 0),_=[];if(U){if(_=[U.flatMap((I)=>Y0({abi:[I],eventName:I.name,args:Y}))],J)_=_[0]}let{unsubscribe:N}=await F.subscribe({params:["logs",{address:Q,topics:_}],onData(P){if(!z)return;let I=P.result;try{let{eventName:E,args:B}=n0({abi:U??[],data:I.data,topics:I.topics,strict:q}),T=u(I,{args:B,eventName:E});G([T])}catch(E){let B,T;if(E instanceof D0||E instanceof L0){if(D)return;B=E.abiItem.name,T=E.abiItem.inputs?.some((v)=>!(("name"in v)&&v.name))}let R=u(I,{args:T?[]:{},eventName:B});G([R])}},onError(P){V?.(P)}});if(H=N,!z)H()}catch(F){V?.(F)}})(),()=>H()})()}function uY($,{batch:Q=!0,onError:Y,onTransactions:X,poll:J,pollingInterval:Z=$.pollingInterval}){return(typeof J!=="undefined"?J:$.transport.type!=="webSocket")?(()=>{let K=k(["watchPendingTransactions",$.uid,Q,Z]);return n(K,{onTransactions:X,onError:Y},(S)=>{let D,O=K0(async()=>{try{if(!D)try{D=await L($,m$,"createPendingTransactionFilter")({});return}catch(M){throw O(),M}let q=await L($,N0,"getFilterChanges")({filter:D});if(q.length===0)return;if(Q)S.onTransactions(q);else for(let M of q)S.onTransactions([M])}catch(q){S.onError?.(q)}},{emitOnBegin:!0,interval:Z});return async()=>{if(D)await L($,_0,"uninstallFilter")({filter:D});O()}})})():(()=>{let K=!0,S=()=>K=!1;return(async()=>{try{let{unsubscribe:D}=await $.transport.subscribe({params:["newPendingTransactions"],onData(O){if(!K)return;let q=O.result;X([q])},onError(O){Y?.(O)}});if(S=D,!K)S()}catch(D){Y?.(D)}})(),()=>S()})()}function lY($){let{scheme:Q,statement:Y,...X}=$.match(O9)?.groups??{},{chainId:J,expirationTime:Z,issuedAt:W,notBefore:V,requestId:G,...K}=$.match(S9)?.groups??{},S=$.split("Resources:")[1]?.split(`
- `).slice(1);return{...X,...K,...J?{chainId:Number(J)}:{},...Z?{expirationTime:new Date(Z)}:{},...W?{issuedAt:new Date(W)}:{},...V?{notBefore:new Date(V)}:{},...G?{requestId:G}:{},...S?{resources:S}:{},...Q?{scheme:Q}:{},...Y?{statement:Y}:{}}}var O9=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,S9=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function cY($){let{address:Q,domain:Y,message:X,nonce:J,scheme:Z,time:W=new Date}=$;if(Y&&X.domain!==Y)return!1;if(J&&X.nonce!==J)return!1;if(Z&&X.scheme!==Z)return!1;if(X.expirationTime&&W>=X.expirationTime)return!1;if(X.notBefore&&W<X.notBefore)return!1;try{if(!X.address)return!1;if(Q&&!i0(X.address,Q))return!1}catch{return!1}return!0}async function nY($,Q){let{address:Y,domain:X,message:J,nonce:Z,scheme:W,signature:V,time:G=new Date,...K}=Q,S=lY(J);if(!S.address)return!1;if(!cY({address:Y,domain:X,message:S,nonce:Z,scheme:W,time:G}))return!1;let O=_1(J);return Z$($,{address:S.address,hash:O,signature:V,...K})}async function W$($,{serializedTransaction:Q}){return $.request({method:"eth_sendRawTransaction",params:[Q]},{retryCount:0})}function iY($){return{call:(Q)=>w0($,Q),createAccessList:(Q)=>y$($,Q),createBlockFilter:()=>r5($),createContractEventFilter:(Q)=>b$($,Q),createEventFilter:(Q)=>g$($,Q),createPendingTransactionFilter:()=>m$($),estimateContractGas:(Q)=>FQ($,Q),estimateGas:(Q)=>c0($,Q),getBalance:(Q)=>c$($,Q),getBlobBaseFee:()=>UQ($),getBlock:(Q)=>d($,Q),getBlockNumber:(Q)=>J0($,Q),getBlockTransactionCount:(Q)=>_Q($,Q),getBytecode:(Q)=>p1($,Q),getChainId:()=>X0($),getCode:(Q)=>p1($,Q),getContractEvents:(Q)=>o$($,Q),getEip712Domain:(Q)=>EQ($,Q),getEnsAddress:(Q)=>p5($,Q),getEnsAvatar:(Q)=>i5($,Q),getEnsName:(Q)=>s5($,Q),getEnsResolver:(Q)=>t5($,Q),getEnsText:(Q)=>j$($,Q),getFeeHistory:(Q)=>xQ($,Q),estimateFeesPerGas:(Q)=>OQ($,Q),getFilterChanges:(Q)=>N0($,Q),getFilterLogs:(Q)=>RQ($,Q),getGasPrice:()=>l0($),getLogs:(Q)=>s0($,Q),getProof:(Q)=>oQ($,Q),estimateMaxPriorityFeePerGas:(Q)=>DQ($,Q),getStorageAt:(Q)=>sQ($,Q),getTransaction:(Q)=>r0($,Q),getTransactionConfirmations:(Q)=>tQ($,Q),getTransactionCount:(Q)=>l$($,Q),getTransactionReceipt:(Q)=>L$($,Q),multicall:(Q)=>rQ($,Q),prepareTransactionRequest:(Q)=>U0($,Q),readContract:(Q)=>m($,Q),sendRawTransaction:(Q)=>W$($,Q),simulate:(Q)=>_$($,Q),simulateBlocks:(Q)=>_$($,Q),simulateCalls:(Q)=>EY($,Q),simulateContract:(Q)=>TY($,Q),verifyMessage:(Q)=>jY($,Q),verifySiweMessage:(Q)=>nY($,Q),verifyTypedData:(Q)=>kY($,Q),uninstallFilter:(Q)=>_0($,Q),waitForTransactionReceipt:(Q)=>gY($,Q),watchBlocks:(Q)=>mY($,Q),watchBlockNumber:(Q)=>I1($,Q),watchContractEvent:(Q)=>pY($,Q),watchEvent:(Q)=>dY($,Q),watchPendingTransactions:(Q)=>uY($,Q)}}function q9($){let{key:Q="public",name:Y="Public Client"}=$;return T$({...$,key:Q,name:Y,type:"publicClient"}).extend(iY)}class I$ extends x{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function P1({key:$,methods:Q,name:Y,request:X,retryCount:J=3,retryDelay:Z=150,timeout:W,type:V},G){let K=E$();return{config:{key:$,methods:Q,name:Y,request:X,retryCount:J,retryDelay:Z,timeout:W,type:V},request:yQ(X,{methods:Q,retryCount:J,retryDelay:Z,uid:K}),value:G}}function z9($,Q={}){let{keepAlive:Y,key:X="webSocket",methods:J,name:Z="WebSocket JSON-RPC",reconnect:W,retryDelay:V}=Q;return({chain:G,retryCount:K,timeout:S})=>{let D=Q.retryCount??K,O=S??Q.timeout??1e4,q=$||G?.rpcUrls.default.webSocket?.[0];if(!q)throw new I$;return P1({key:X,methods:J,name:Z,async request({method:M,params:w}){let z={method:M,params:w},H=await a0(q,{keepAlive:Y,reconnect:W}),{error:F,result:U}=await H.requestAsync({body:z,timeout:O});if(F)throw new h0({body:z,error:F,url:q});return U},retryCount:D,retryDelay:V,timeout:O,type:"webSocket"},{getSocket(){return gQ(q)},getRpcClient(){return a0(q)},async subscribe({params:M,onData:w,onError:z}){let H=await a0(q),{result:F}=await new Promise((U,_)=>H.request({body:{method:"eth_subscribe",params:M},onError(N){_(N),z?.(N);return},onResponse(N){if(N.error){_(N.error),z?.(N.error);return}if(typeof N.id==="number"){U(N);return}if(N.method!=="eth_subscription")return;w(N.params)}}));return{subscriptionId:F,async unsubscribe(){return new Promise((U)=>H.request({body:{method:"eth_unsubscribe",params:[F]},onResponse:U}))}}}})}}class r extends x{constructor({docsPath:$}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:$,docsSlug:"account",name:"AccountNotFoundError"})}}class P$ extends x{constructor({docsPath:$,metaMessages:Q,type:Y}){super(`Account type "${Y}" is not supported.`,{docsPath:$,metaMessages:Q,name:"AccountTypeNotSupportedError"})}}var f5=new t$(128);async function K$($,Q){let{account:Y=$.account,chain:X=$.chain,accessList:J,authorizationList:Z,blobs:W,data:V,gas:G,gasPrice:K,maxFeePerBlobGas:S,maxFeePerGas:D,maxPriorityFeePerGas:O,nonce:q,value:M,...w}=Q;if(typeof Y==="undefined")throw new r({docsPath:"/docs/actions/wallet/sendTransaction"});let z=Y?j(Y):null;try{s(Q);let H=await(async()=>{if(Q.to)return Q.to;if(Z&&Z.length>0)return await d$({authorization:Z[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`.")});return})();if(z?.type==="json-rpc"||z===null){let F;if(X!==null)F=await L($,X0,"getChainId")({}),e$({currentChainId:F,chain:X});let U=$.chain?.formatters?.transactionRequest?.format,N=(U||Q0)({...b0(w,{format:U}),accessList:J,authorizationList:Z,blobs:W,chainId:F,data:V,from:z?.address,gas:G,gasPrice:K,maxFeePerBlobGas:S,maxFeePerGas:D,maxPriorityFeePerGas:O,nonce:q,to:H,value:M}),P=f5.get($.uid),I=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await $.request({method:I,params:[N]},{retryCount:0})}catch(E){if(P===!1)throw E;let B=E;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await $.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then((T)=>{return f5.set($.uid,!0),T}).catch((T)=>{let R=T;if(R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError")throw f5.set($.uid,!1),B;throw R});throw B}}if(z?.type==="local"){let F=await L($,U0,"prepareTransactionRequest")({account:z,accessList:J,authorizationList:Z,blobs:W,chain:X,data:V,gas:G,gasPrice:K,maxFeePerBlobGas:S,maxFeePerGas:D,maxPriorityFeePerGas:O,nonce:q,nonceManager:z.nonceManager,parameters:[...m1,"sidecars"],value:M,...w,to:H}),U=X?.serializers?.transaction,_=await z.signTransaction(F,{serializer:U});return await L($,W$,"sendRawTransaction")({serializedTransaction:_})}if(z?.type==="smart")throw new P$({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new P$({docsPath:"/docs/actions/wallet/sendTransaction",type:z?.type})}catch(H){if(H instanceof P$)throw H;throw pQ(H,{...Q,account:z,chain:Q.chain||void 0})}}async function oY($,Q){let{abi:Y,account:X=$.account,address:J,args:Z,dataSuffix:W,functionName:V,...G}=Q;if(typeof X==="undefined")throw new r({docsPath:"/docs/contract/writeContract"});let K=X?j(X):null,S=y({abi:Y,args:Z,functionName:V});try{return await L($,K$,"sendTransaction")({data:`${S}${W?W.replace("0x",""):""}`,to:J,account:K,...G})}catch(D){throw i(D,{abi:Y,address:J,args:Z,docsPath:"/docs/contract/writeContract",functionName:V,sender:K?.address})}}async function sY($,{chain:Q}){let{id:Y,name:X,nativeCurrency:J,rpcUrls:Z,blockExplorers:W}=Q;await $.request({method:"wallet_addEthereumChain",params:[{chainId:A(Y),chainName:X,nativeCurrency:J,rpcUrls:Z.default.http,blockExplorerUrls:W?Object.values(W).map(({url:V})=>V):void 0}]},{dedupe:!0,retryCount:0})}function H9($,Q={}){let{batch:Y,fetchOptions:X,key:J="http",methods:Z,name:W="HTTP JSON-RPC",onFetchRequest:V,onFetchResponse:G,retryDelay:K,raw:S}=Q;return({chain:D,retryCount:O,timeout:q})=>{let{batchSize:M=1000,wait:w=0}=typeof Y==="object"?Y:{},z=Q.retryCount??O,H=q??Q.timeout??1e4,F=$||D?.rpcUrls.default.http[0];if(!F)throw new I$;let U=vQ(F,{fetchOptions:X,onRequest:V,onResponse:G,timeout:H});return P1({key:J,methods:Z,name:W,async request({method:_,params:N}){let P={method:_,params:N},{schedule:I}=Q1({id:F,wait:w,shouldSplitBatch(R){return R.length>M},fn:(R)=>U.request({body:R}),sort:(R,v)=>R.id-v.id}),E=async(R)=>Y?I(R):[await U.request({body:R})],[{error:B,result:T}]=await E(P);if(S)return{error:B,result:T};if(B)throw new h0({body:P,error:B,url:F});return T},retryCount:z,retryDelay:K,timeout:H,type:"http"},{fetchOptions:X,url:F})}}function tY($,Q){let{abi:Y,args:X,bytecode:J,...Z}=Q,W=N1({abi:Y,args:X,bytecode:J});return K$($,{...Z,data:W})}async function rY($){if($.account?.type==="local")return[$.account.address];return(await $.request({method:"eth_accounts"},{dedupe:!0})).map((Y)=>aY(Y))}async function eY($){return await $.request({method:"wallet_getPermissions"},{dedupe:!0})}async function $X($){return(await $.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map((Y)=>L1(Y))}async function QX($,Q){return $.request({method:"wallet_requestPermissions",params:[Q]},{retryCount:0})}async function YX($,{account:Q=$.account,message:Y}){if(!Q)throw new r({docsPath:"/docs/actions/wallet/signMessage"});let X=j(Q);if(X.signMessage)return X.signMessage({message:Y});let J=(()=>{if(typeof Y==="string")return w$(Y);if(Y.raw instanceof Uint8Array)return l(Y.raw);return Y.raw})();return $.request({method:"personal_sign",params:[J,X.address]},{retryCount:0})}async function XX($,Q){let{account:Y=$.account,chain:X=$.chain,...J}=Q;if(!Y)throw new r({docsPath:"/docs/actions/wallet/signTransaction"});let Z=j(Y);s({account:Z,...Q});let W=await L($,X0,"getChainId")({});if(X!==null)e$({currentChainId:W,chain:X});let G=(X?.formatters||$.chain?.formatters)?.transactionRequest?.format||Q0;if(Z.signTransaction)return Z.signTransaction({...J,chainId:W},{serializer:$.chain?.serializers?.transaction});return await $.request({method:"eth_signTransaction",params:[{...G(J),chainId:A(W),from:Z.address}]},{retryCount:0})}async function KX($,Q){let{account:Y=$.account,domain:X,message:J,primaryType:Z}=Q;if(!Y)throw new r({docsPath:"/docs/actions/wallet/signTypedData"});let W=j(Y),V={EIP712Domain:WX({domain:X}),...Q.types};if(ZX({domain:X,message:J,primaryType:Z,types:V}),W.signTypedData)return W.signTypedData({domain:X,message:J,primaryType:Z,types:V});let G=JX({domain:X,message:J,primaryType:Z,types:V});return $.request({method:"eth_signTypedData_v4",params:[W.address,G]},{retryCount:0})}async function VX($,{id:Q}){await $.request({method:"wallet_switchEthereumChain",params:[{chainId:A(Q)}]},{retryCount:0})}async function GX($,Q){return await $.request({method:"wallet_watchAsset",params:Q},{retryCount:0})}function DX($){return{addChain:(Q)=>sY($,Q),deployContract:(Q)=>tY($,Q),getAddresses:()=>rY($),getChainId:()=>X0($),getPermissions:()=>eY($),prepareTransactionRequest:(Q)=>U0($,Q),requestAddresses:()=>$X($),requestPermissions:(Q)=>QX($,Q),sendRawTransaction:(Q)=>W$($,Q),sendTransaction:(Q)=>K$($,Q),signMessage:(Q)=>YX($,Q),signTransaction:(Q)=>XX($,Q),signTypedData:(Q)=>KX($,Q),switchChain:(Q)=>VX($,Q),watchAsset:(Q)=>GX($,Q),writeContract:(Q)=>oY($,Q)}}function M9($){let{key:Q="wallet",name:Y="Wallet Client",transport:X}=$;return T$({...$,key:Q,name:Y,transport:X,type:"walletClient"}).extend(DX)}export{S$ as a,eZ as b,X4 as c,u as d,r as e,H9 as f,p1 as g,F8 as h,p8 as i,q9 as j,M9 as k,z9 as l};
